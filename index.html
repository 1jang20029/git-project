<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—°ì„±ëŒ€í•™êµ ìº í¼ìŠ¤ ê°€ì´ë“œ</title>
    <!-- ë„¤ì´ë²„ ì§€ë„ API ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ -->
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=ikduyzmop9"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
        }
        
        .container {
            max-width: 768px;
            margin: 0 auto;
            background-color: white;
            min-height: 100vh;
            padding-bottom: 60px; /* í•˜ë‹¨ íƒ­ ë©”ë‰´ ì˜ì—­ë§Œí¼ íŒ¨ë”© ì¶”ê°€ */
            position: relative;
        }
        
        header {
            background-color: #c62917;
            color: white;
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 20px;
            font-weight: bold;
        }
        
        .header-icons {
            display: flex;
            gap: 16px;
            align-items: center;
        }
        
        .login-button {
            padding: 6px 12px;
            background-color: white;
            color: #c62917;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
        }
        
        .profile-dropdown-container {
            position: relative;
        }
        
        .header-profile-image {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            cursor: pointer;
        }
        
        .profile-dropdown {
            position: absolute;
            top: 40px;
            right: 0;
            width: 220px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            overflow: hidden;
            display: none;
        }
        
        .profile-dropdown.active {
            display: block;
        }
        
        .dropdown-profile-info {
            padding: 16px;
            background-color: #f9f9f9;
            border-bottom: 1px solid #eee;
        }
        
        .dropdown-profile-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 4px;
            color: #333;
        }
        
        .dropdown-profile-detail {
            font-size: 13px;
            color: #666;
            margin-bottom: 2px;
        }
        
        .dropdown-divider {
            height: 1px;
            background-color: #eee;
        }
        
        .dropdown-item {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            color: #666;
            cursor: pointer;
        }
        
        .dropdown-item:hover {
            background-color: #f5f5f5;
        }
        
        .dropdown-icon {
            margin-right: 8px;
            font-size: 18px;
        }
        
        .search-bar {
            padding: 12px 16px;
            background-color: #f9f9f9;
            display: flex;
            border-bottom: 1px solid #eee;
        }
        
        .search-input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        /* ê²€ìƒ‰ ê²°ê³¼ ìŠ¤íƒ€ì¼ */
        .search-results {
            background-color: white;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin: 0 16px;
            overflow: hidden;
            position: relative;
            z-index: 100;
        }
        
        .no-results {
            padding: 16px;
            text-align: center;
            color: #888;
            font-size: 14px;
        }
        
        .notification-banner {
            background-color: #ffebee;
            padding: 12px 16px;
            border-bottom: 1px solid #ffcdd2;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .urgent-icon {
            color: #c62917;
            font-weight: bold;
        }
        
        .notification-text {
            font-size: 14px;
            flex: 1;
        }
        
        .shortcut-menu {
            display: flex;
            padding: 16px;
            justify-content: space-between;
            border-bottom: 1px solid #eee;
        }
        
        .shortcut-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 60px;
            cursor: pointer;
        }
        
        .shortcut-icon {
            width: 40px;
            height: 40px;
            background-color: #f0f0f0;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 8px;
            font-size: 20px;
        }
        
        .shortcut-text {
            font-size: 12px;
            text-align: center;
            color: #555;
        }
        
        .content-section {
            padding: 16px;
        }
        
        .section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .see-all {
            font-size: 13px;
            color: #888;
            text-decoration: none;
        }
        
        .notice-list {
            list-style: none;
        }
        
        .notice-item {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }
        
        .notice-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 6px;
        }
        
        .notice-category {
            background-color: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
            color: #555;
        }
        
        .notice-date {
            font-size: 12px;
            color: #888;
        }
        
        .notice-title {
            font-size: 15px;
            margin-bottom: 6px;
        }
        
        .notice-summary {
            font-size: 13px;
            color: #666;
            line-height: 1.4;
        }
        
        .facility-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .facility-item {
            border: 1px solid #eee;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .facility-image {
            height: 100px;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .facility-info {
            padding: 10px;
        }
        
        .facility-name {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .facility-location {
            font-size: 12px;
            color: #666;
        }
        
        .lecture-list {
            list-style: none;
        }
        
        .lecture-item {
            padding: 12px;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 12px;
            cursor: pointer;
        }
        
        .lecture-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .lecture-title {
            font-size: 15px;
            font-weight: bold;
        }
        
        .lecture-rating {
            color: #ff9800;
            font-weight: bold;
        }
        
        .lecture-info {
            font-size: 13px;
            color: #666;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }
        
        .lecture-professor {
            color: #333;
        }
        
        .lecture-reviews {
            font-size: 12px;
            color: #666;
        }
        
        /* í•˜ë‹¨ íƒ­ ë©”ë‰´ ìˆ˜ì • - í•­ìƒ í‘œì‹œë˜ë„ë¡ */
        .tab-menu {
            display: flex;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 768px;
            margin: 0 auto;
            background-color: white;
            border-top: 1px solid #ddd;
            z-index: 1000; /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ì— í‘œì‹œë˜ë„ë¡ z-index ì¶”ê°€ */
            box-shadow: 0 -2px 5px rgba(0,0,0,0.05); /* ì•½ê°„ì˜ ê·¸ë¦¼ì ì¶”ê°€ */
        }
        
        .tab-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 0;
            font-size: 12px;
            color: #888;
            text-decoration: none;
            cursor: pointer;
        }
        
        .tab-item.active {
            color: #c62917;
        }
        
        .tab-icon {
            font-size: 22px;
            margin-bottom: 4px;
        }
        
        /* ì§€ë„ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        .campus-map {
            height: 350px; /* ë†’ì´ ì¦ê°€ */
            width: 100% !important; /* ë„ˆë¹„ ê°•ì œ ì§€ì • */
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            margin: 16px 0;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            display: block; /* í•­ìƒ í‘œì‹œë˜ë„ë¡ */
        }
        
        /* ë„¤ì´ë²„ ì§€ë„ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        #naverMap {
            width: 100% !important;
            height: 100% !important;
        }
        
        /* ì§€ë„ ë§ˆì»¤ ì •ë³´ì°½ ìŠ¤íƒ€ì¼ */
        .map-info-window {
            padding: 8px 12px;
            background: white;
            border-radius: 4px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            font-size: 13px;
            max-width: 200px;
        }
        
        .map-info-title {
            font-weight: bold;
            margin-bottom: 4px;
            color: #333;
        }
        
        .map-info-desc {
            color: #666;
            font-size: 12px;
        }
        
        /* ì§€ë„ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .map-control-buttons {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        
        .map-button {
            padding: 8px;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
        }
        
        .content-pad {
            padding-bottom: 60px; /* í•˜ë‹¨ íƒ­ ë©”ë‰´ ë†’ì´ë§Œí¼ ì—¬ë°± */
        }

        /* íƒ­ ì½˜í…ì¸  */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* ê±´ë¬¼ ë° êµì‹¤ ëª©ë¡ */
        .building-list {
            list-style: none;
        }
        
        /* ê±´ë¬¼ ëª©ë¡ í•­ëª© ì¬ë””ìì¸ */
        .building-item {
            padding: 12px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .building-image {
            width: 80px;
            height: 60px;
            border-radius: 4px;
            overflow: hidden;
            margin-right: 12px;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .building-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .building-info-container {
            flex: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .building-info {
            flex: 1;
        }
        
        .building-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .building-description {
            font-size: 13px;
            color: #666;
        }
        
        .building-nav-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f0f0;
            padding: 8px;
            border-radius: 4px;
            margin-left: 8px;
            cursor: pointer;
        }
        
        .building-nav-button:hover {
            background-color: #e0e0e0;
        }
        
        .building-nav-button span:first-child {
            font-size: 12px;
            color: #555;
            margin-bottom: 4px;
        }
        
        .building-nav-button span:last-child {
            font-size: 18px;
        }
        
        /* ê°•ì˜ í‰ê°€ ìŠ¤íƒ€ì¼ */
        .rating-stars {
            color: #ffb400;
            letter-spacing: 2px;
        }
        
        /* ì¹´í…Œê³ ë¦¬ í•„í„° */
        .category-filter {
            display: flex;
            overflow-x: auto;
            padding: 8px 0;
            margin-bottom: 12px;
            -webkit-overflow-scrolling: touch;
        }
        
        .category-tag {
            flex-shrink: 0;
            padding: 6px 12px;
            border: 1px solid #ddd;
            border-radius: 16px;
            margin-right: 8px;
            font-size: 13px;
            color: #555;
            background-color: white;
            cursor: pointer;
        }
        
        .category-tag.active {
            background-color: #c62917;
            color: white;
            border-color: #c62917;
        }
        
        /* ì•Œë¦¼ ë¦¬ìŠ¤íŠ¸ */
        .alert-list {
            list-style: none;
        }
        
        .alert-item {
            padding: 12px;
            border-bottom: 1px solid #eee;
            display: flex;
            cursor: pointer;
        }
        
        .alert-icon {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 12px;
            font-size: 20px;
        }
        
        .alert-info {
            flex: 1;
        }
        
        .alert-title {
            font-size: 15px;
            margin-bottom: 4px;
        }
        
        .alert-message {
            font-size: 13px;
            color: #666;
            margin-bottom: 4px;
        }
        
        .alert-time {
            font-size: 12px;
            color: #888;
        }
        
        .alert-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 10px;
            background-color: #c62917;
            color: white;
            font-size: 12px;
            margin-left: 4px;
        }

        /* ë‚´ ì •ë³´ íƒ­ */
        .profile-section {
            padding: 24px 16px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #eee;
        }
        
        .profile-image {
            width: 60px;
            height: 60px;
            border-radius: 30px;
            background-color: #f0f0f0;
            margin-right: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            overflow: hidden;
        }
        
        .profile-info {
            flex: 1;
        }
        
        .profile-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .profile-detail {
            font-size: 14px;
            color: #666;
        }
        
        .menu-list {
            list-style: none;
        }
        
        .menu-item {
            padding: 16px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        
        .menu-title {
            font-size: 15px;
        }
        
        .menu-arrow {
            color: #ccc;
        }

        /* ê³µì§€ì‚¬í•­ ìƒì„¸ */
        .notice-detail {
            padding: 20px 16px;
        }
        
        .notice-detail-header {
            margin-bottom: 16px;
        }
        
        .notice-detail-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .notice-detail-info {
            display: flex;
            justify-content: space-between;
            font-size: 13px;
            color: #888;
        }
        
        .notice-detail-content {
            font-size: 15px;
            line-height: 1.6;
        }
        
        /* ë¡œë”© ì¸ë””ì¼€ì´í„° */
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #888;
        }

        /* í—¤ë” í”„ë¡œí•„ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
        .header-profile-image {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            margin-left: 8px;
        }
        
        /* í”„ë¡œí•„ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
        .profile-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        /* íšŒì› íƒˆí‡´ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .delete-account {
            color: #e53935;
        }

        /* í˜ì´ì§€ë„¤ì´ì…˜ ìŠ¤íƒ€ì¼ */
        .pagination-controls {
            display: flex;
            justify-content: center;
            padding: 16px 0;
            gap: 10px;
        }
        
        .pagination-button {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f9f9f9;
            font-size: 14px;
            cursor: pointer;
        }
        
        .pagination-button:hover {
            background-color: #f0f0f0;
        }
        
        .pagination-button.active {
            background-color: #c62917;
            border-color: #c62917;
            color: white;
        }
        
        .pagination-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ê±´ë¬¼ ë‚´ë¶€ ì •ë³´ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .building-detail-container {
            padding: 16px;
        }

        .building-header {
            margin-bottom: 20px;
        }

        .building-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .building-subtitle {
            font-size: 14px;
            color: #666;
            margin-bottom: 16px;
        }

        .building-image-large {
            width: 100%;
            height: 200px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 16px;
        }

        .building-image-large img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* ì¸µë³„ ì„ íƒ ë©”ë‰´ */
        .floor-selector {
            display: flex;
            overflow-x: auto;
            margin-bottom: 16px;
            padding-bottom: 8px;
            -webkit-overflow-scrolling: touch;
        }

        .floor-button {
            flex-shrink: 0;
            padding: 8px 16px;
            border: 1px solid #ddd;
            background-color: #f9f9f9;
            margin-right: 8px;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            min-width: 60px;
            text-align: center;
        }

        .floor-button:hover {
            background-color: #f0f0f0;
        }

        .floor-button.active {
            background-color: #c62917;
            color: white;
            border-color: #c62917;
        }

        /* ì‹¤ë‚´ ì§€ë„ ì»¨í…Œì´ë„ˆ */
        .floor-map-container {
            position: relative;
            width: 100%;
            height: 350px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
            background-color: #f9f9f9;
        }

        .floor-map {
            width: 100%;
            height: 100%;
            background-color: #fff;
        }

        .classroom-marker {
            position: absolute;
            width: 24px;
            height: 24px;
            background-color: #c62917;
            border-radius: 50%;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            cursor: pointer;
            z-index: 10;
            transform: translate(-50%, -50%);
        }

        .classroom-marker.path {
            background-color: #2196F3;
        }

        .classroom-marker.start {
            background-color: #4CAF50;
        }

        .classroom-marker.end {
            background-color: #FF5722;
        }

        /* ê¸¸ í‘œì‹œ ì„  */
        .path-line {
            position: absolute;
            background-color: #2196F3;
            z-index: 5;
            opacity: 0.7;
        }

        /* ê°•ì˜ì‹¤ ëª©ë¡ */
        .classroom-list {
            list-style: none;
            margin-bottom: 20px;
        }

        .classroom-item {
            padding: 12px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .classroom-info {
            flex: 1;
        }

        .classroom-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .classroom-desc {
            font-size: 13px;
            color: #666;
        }

        .classroom-button {
            padding: 6px 12px;
            background-color: #f0f0f0;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            margin-left: 8px;
        }

        .classroom-button:hover {
            background-color: #e0e0e0;
        }

        .navigation-controls {
            padding: 16px;
            background-color: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .navigation-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
        }

        .navigation-form {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-size: 14px;
            color: #666;
        }

        .form-select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            background-color: white;
        }

        .navigation-button {
            padding: 10px 16px;
            background-color: #c62917;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 8px;
        }

        .navigation-button:hover {
            background-color: #b32213;
        }

        .navigation-instructions {
            margin-top: 20px;
            padding: 16px;
            background-color: #f0f0f0;
            border-radius: 8px;
            display: none;
        }

        .instruction-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
        }

        .instruction-list {
            list-style: decimal;
            padding-left: 20px;
        }

        .instruction-item {
            margin-bottom: 8px;
            font-size: 14px;
            line-height: 1.5;
        }

        .back-button {
            display: inline-block;
            padding: 8px 16px;
            background-color: #f0f0f0;
            border-radius: 4px;
            font-size: 14px;
            color: #333;
            text-decoration: none;
            margin-bottom: 16px;
        }

        .back-button:hover {
            background-color: #e0e0e0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo" onclick="goToHome()">ì—°ì„±ëŒ€í•™êµ</div>
            <div class="header-icons">
                <!-- ë¡œê·¸ì¸ ë²„íŠ¼ë§Œ ë‚¨ê¸°ê³  ê²€ìƒ‰ ë° ì•Œë¦¼ ì•„ì´ì½˜ ì œê±° -->
                <a href="#" class="login-button" onclick="goToPage('login')">ë¡œê·¸ì¸</a>
                <div class="profile-dropdown-container" style="display: none;">
                    <div class="header-profile-image" onclick="toggleProfileDropdown()">
                        <!-- ì—¬ê¸°ì— í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤ -->
                        <img id="headerProfileImg" src="" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;" alt="í”„ë¡œí•„">
                    </div>
                    <div class="profile-dropdown">
                        <div class="dropdown-profile-info">
                            <div class="dropdown-profile-name">ì‚¬ìš©ì</div>
                            <div class="dropdown-profile-detail">í•™ê³¼ | í•™ë…„</div>
                            <div class="dropdown-profile-detail">í•™ë²ˆ: 0000000000</div>
                        </div>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-item" onclick="goToPage('profile-edit')">
                            <span class="dropdown-icon">âœï¸</span>
                            <span>í”„ë¡œí•„ ìˆ˜ì •</span>
                        </div>
                        <div class="dropdown-item" onclick="logout()">
                            <span class="dropdown-icon">ğŸšª</span>
                            <span>ë¡œê·¸ì•„ì›ƒ</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- í™ˆ íƒ­ -->
        <div id="home-tab" class="tab-content active">
            <!-- ê¸´ê¸‰ ì•Œë¦¼ ë°°ë„ˆ -->
            <div class="notification-banner" onclick="viewNotification('emergency')">
                <span class="urgent-icon">ğŸ“¢</span>
                <span class="notification-text">ê¸´ê¸‰ ê³µì§€: ë‚´ì¼(4/9) ëŒ€í•™ ì „ì²´ íœ´ê°• ì•ˆë‚´ - ì‹œì„¤ ì ê²€ìœ¼ë¡œ ì¸í•œ ë‹¨ìˆ˜</span>
            </div>
            
            <!-- ê²€ìƒ‰ ë°” -->
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="ê°•ì˜ì‹¤, ê³µì§€ì‚¬í•­, êµìˆ˜ë‹˜ ê²€ìƒ‰" onkeypress="handleSearchKeyPress(event)">
            </div>
            
            <!-- ë°”ë¡œê°€ê¸° ë©”ë‰´ -->
            <div class="shortcut-menu">
                <div class="shortcut-item" onclick="switchTab('facility')">
                    <div class="shortcut-icon">ğŸ«</div>
                    <div class="shortcut-text">ê°•ì˜ì‹¤</div>
                </div>
                <div class="shortcut-item" onclick="switchTab('community')">
                    <div class="shortcut-icon">ğŸ“</div>
                    <div class="shortcut-text">ê°•ì˜í‰ê°€</div>
                </div>
                <div class="shortcut-item" onclick="goToPage('shuttle')">
                    <div class="shortcut-icon">ğŸšŒ</div>
                    <div class="shortcut-text">ì…”í‹€ë²„ìŠ¤</div>
                </div>
                <div class="shortcut-item" onclick="goToPage('cafeteria')">
                    <div class="shortcut-icon">ğŸ½ï¸</div>
                    <div class="shortcut-text">í•™ì‹</div>
                </div>
                <div class="shortcut-item" onclick="goToPage('academic-calendar')">
                    <div class="shortcut-icon">ğŸ“…</div>
                    <div class="shortcut-text">í•™ì‚¬ì¼ì •</div>
                </div>
            </div>
            
            <!-- ê³µì§€ì‚¬í•­ ì„¹ì…˜ -->
            <div class="content-section">
                <div class="section-title">
                    <span>ì£¼ìš” ê³µì§€ì‚¬í•­</span>
                    <a href="#" class="see-all" onclick="goToPage('notices')">ì „ì²´ë³´ê¸°</a>
                </div>
                
                <div class="category-filter">
                    <div class="category-tag active" onclick="filterNotices('all')">ì „ì²´</div>
                    <div class="category-tag" onclick="filterNotices('academic')">í•™ì‚¬</div>
                    <div class="category-tag" onclick="filterNotices('scholarship')">ì¥í•™</div>
                    <div class="category-tag" onclick="filterNotices('job')">ì·¨ì—…</div>
                    <div class="category-tag" onclick="filterNotices('event')">í–‰ì‚¬</div>
                    <div class="category-tag" onclick="filterNotices('department')">í•™ê³¼</div>
                </div>
                
                <ul class="notice-list">
                    <!-- ì•Œë¦¼ì°½ ì—†ì´ ê³µì§€ì‚¬í•­ ìƒì„¸ í˜ì´ì§€ë¡œ ë°”ë¡œ ì´ë™í•˜ë„ë¡ ìˆ˜ì • -->
                    <li class="notice-item" onclick="goToNoticeDetail('notice1')">
                        <div class="notice-header">
                            <span class="notice-category">í•™ì‚¬</span>
                            <span class="notice-date">2025.04.08</span>
                        </div>
                        <div class="notice-title">2025í•™ë…„ë„ 1í•™ê¸° ì¤‘ê°„ê³ ì‚¬ ì¼ì • ì•ˆë‚´</div>
                        <div class="notice-summary">
                            4ì›” 22ì¼(ì›”)ë¶€í„° 4ì›” 26ì¼(ê¸ˆ)ê¹Œì§€ ì¤‘ê°„ê³ ì‚¬ê°€ ì§„í–‰ë©ë‹ˆë‹¤. ìì„¸í•œ ì‹œê°„í‘œëŠ” í•™ê³¼ ì‚¬ë¬´ì‹¤ì—ì„œ í™•ì¸í•˜ì„¸ìš”.
                        </div>
                    </li>
                    <li class="notice-item" onclick="goToNoticeDetail('notice2')">
                        <div class="notice-header">
                            <span class="notice-category">ì¥í•™</span>
                            <span class="notice-date">2025.04.07</span>
                        </div>
                        <div class="notice-title">êµ­ê°€ì¥í•™ê¸ˆ 2ì°¨ ì‹ ì²­ ë§ˆê° ì•ˆë‚´</div>
                        <div class="notice-summary">
                            êµ­ê°€ì¥í•™ê¸ˆ 2ì°¨ ì‹ ì²­ì´ ì´ë²ˆ ì£¼ ê¸ˆìš”ì¼(4/11)ì— ë§ˆê°ë©ë‹ˆë‹¤. ì•„ì§ ì‹ ì²­í•˜ì§€ ì•Šì€ í•™ìƒë“¤ì€ ì„œë‘˜ëŸ¬ ì‹ ì²­í•´ì£¼ì„¸ìš”.
                        </div>
                    </li>
                    <li class="notice-item" onclick="goToNoticeDetail('notice3')">
                        <div class="notice-header">
                            <span class="notice-category">ì·¨ì—…</span>
                            <span class="notice-date">2025.04.06</span>
                        </div>
                        <div class="notice-title">ì‚¼ì„±ì „ì ëŒ€ê·œëª¨ ì±„ìš©ì„¤ëª…íšŒ ê°œìµœ ì•ˆë‚´</div>
                        <div class="notice-summary">
                            4ì›” 15ì¼(í™”) ì˜¤í›„ 2ì‹œ ëŒ€ê°•ë‹¹ì—ì„œ ì‚¼ì„±ì „ì ì±„ìš©ì„¤ëª…íšŒê°€ ì§„í–‰ë©ë‹ˆë‹¤. ì°¸ì„ì„ ì›í•˜ëŠ” í•™ìƒì€ ì‚¬ì „ ì‹ ì²­ ë°”ëë‹ˆë‹¤.
                        </div>
                    </li>
                </ul>
            </div>
            
            <!-- ê°•ì˜í‰ê°€ ì„¹ì…˜ -->
            <div class="content-section">
                <div class="section-title">
                    <span>ì¸ê¸° ê°•ì˜í‰ê°€</span>
                    <a href="#" class="see-all" onclick="switchTab('community')">ì „ì²´ë³´ê¸°</a>
                </div>
                
                <ul class="lecture-list">
                    <li class="lecture-item" onclick="viewLectureDetail('web-programming')">
                        <div class="lecture-header">
                            <div class="lecture-title">ì›¹ í”„ë¡œê·¸ë˜ë° ì‹¤ìŠµ</div>
                            <div class="lecture-rating">4.8</div>
                        </div>
                        <div class="lecture-info">
                            <span class="lecture-professor">ê¹€ë¯¼ìˆ˜ êµìˆ˜ë‹˜</span>
                            <span>ì»´í“¨í„°ì •ë³´í•™ê³¼</span>
                        </div>
                        <div class="rating-stars">â˜…â˜…â˜…â˜…â˜…</div>
                        <div class="lecture-reviews">
                            "ê³¼ì œëŠ” ë§ì§€ë§Œ ì‹¤ë ¥ì´ í™•ì‹¤íˆ ëŠ˜ì–´ìš”! ì·¨ì—…ì— í° ë„ì›€ì´ ë©ë‹ˆë‹¤."
                        </div>
                    </li>
                    <li class="lecture-item" onclick="viewLectureDetail('marketing')">
                        <div class="lecture-header">
                            <div class="lecture-title">ë§ˆì¼€íŒ… ì›ë¡ </div>
                            <div class="lecture-rating">4.5</div>
                        </div>
                        <div class="lecture-info">
                            <span class="lecture-professor">ì´ì§€ì˜ êµìˆ˜ë‹˜</span>
                           <span>ê²½ì˜í•™ê³¼</span>
                       </div>
                       <div class="rating-stars">â˜…â˜…â˜…â˜…â˜†</div>
                       <div class="lecture-reviews">
                           "ì‹¤ì œ ì‚¬ë¡€ë¥¼ ë§ì´ ë‹¤ë£¨ì–´ì„œ ì´í•´í•˜ê¸° ì‰½ê³  ì¬ë¯¸ìˆì–´ìš”."
                       </div>
                   </li>
               </ul>
           </div>
           
           <div class="content-pad"></div>
       </div>
       
       <!-- ì‹œì„¤ íƒ­ -->
       <div id="facility-tab" class="tab-content">
           <div class="search-bar">
               <input type="text" id="facility-search-input" class="search-input" placeholder="ê±´ë¬¼, ê°•ì˜ì‹¤, í¸ì˜ì‹œì„¤ ê²€ìƒ‰" oninput="searchFacilities(this.value)">
           </div>
           
           <!-- ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•  ì»¨í…Œì´ë„ˆ ì¶”ê°€ -->
           <div id="search-results" class="search-results" style="display: none;">
               <!-- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
           </div>
           
           <!-- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì„ ë•Œ í‘œì‹œë  ë‚´ìš© -->
           <div id="no-results" class="no-results" style="display: none;">
               ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.
           </div>
           
           <!-- ì›ë˜ ë‚´ìš©ì€ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì„ ë•Œë§Œ í‘œì‹œ -->
           <div id="original-content">
               <!-- ë„¤ì´ë²„ ì§€ë„ë¡œ ëŒ€ì²´ëœ ìº í¼ìŠ¤ ë§µ -->
               <div class="campus-map">
                   <div id="naverMap"></div>
                   <div class="map-control-buttons">
                       <div class="map-button" onclick="zoomIn()">ğŸ”+</div>
                       <div class="map-button" onclick="zoomOut()">ğŸ”-</div>
                       <div class="map-button" onclick="resetMapView()">ğŸ </div>
                   </div>
               </div>
               
               <div class="content-section">
                   <div class="section-title">
                       <span>ì£¼ìš” ê±´ë¬¼</span>
                   </div>
                   
                   <ul class="building-list">
                       <!-- ê±´ë¬¼ í•­ëª©ë“¤ì´ JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
                   </ul>
                   
                   <!-- í˜ì´ì§€ë„¤ì´ì…˜ ì»¨íŠ¸ë¡¤ ì¶”ê°€ -->
                   <div id="pagination-controls" class="pagination-controls">
                       <!-- í˜ì´ì§€ ë²„íŠ¼ë“¤ì´ JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
                   </div>
               </div>
               
               <div class="content-section">
                   <div class="section-title">
                       <span>í¸ì˜ì‹œì„¤</span>
                   </div>
                   
                   <div class="facility-list">
                       <div class="facility-item" onclick="showFacilityDetail('cafeteria')">
                           <div class="facility-image">
                               <img src="/api/placeholder/150/100" alt="í•™ìƒì‹ë‹¹">
                           </div>
                           <div class="facility-info">
                               <div class="facility-name">í•™ìƒì‹ë‹¹</div>
                               <div class="facility-location">í•™ìƒë³µì§€ì„¼í„° 2ì¸µ</div>
                           </div>
                       </div>
                       <div class="facility-item" onclick="showFacilityDetail('cafe')">
                           <div class="facility-image">
                               <img src="/api/placeholder/150/100" alt="ì¹´í˜">
                           </div>
                           <div class="facility-info">
                               <div class="facility-name">ì¹´í˜ ì—°ì„±</div>
                               <div class="facility-location">ë¬¸í™”1ê´€ 1ì¸µ</div>
                           </div>
                       </div>
                       <div class="facility-item" onclick="showFacilityDetail('convenience')">
                           <div class="facility-image">
                               <img src="/api/placeholder/150/100" alt="í¸ì˜ì ">
                           </div>
                           <div class="facility-info">
                               <div class="facility-name">CU í¸ì˜ì </div>
                               <div class="facility-location">í•™ìƒë³µì§€ì„¼í„° 1ì¸µ</div>
                           </div>
                       </div>
                       <div class="facility-item" onclick="showFacilityDetail('atm')">
                           <div class="facility-image">
                               <img src="/api/placeholder/150/100" alt="ATM">
                           </div>
                           <div class="facility-info">
                               <div class="facility-name">ATM</div>
                               <div class="facility-location">í•™ìƒë³µì§€ì„¼í„° 1ì¸µ</div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
           
           <div class="content-pad"></div>
       </div>
       
       <!-- ê±´ë¬¼ ìƒì„¸ í˜ì´ì§€ (ì‹¤ë‚´ ì§€ë„) -->
       <div id="building-detail-tab" class="tab-content">
           <a href="#" class="back-button" onclick="switchTab('facility')">â† ë’¤ë¡œê°€ê¸°</a>
           
           <div class="building-detail-container">
               <div class="building-header">
                   <div class="building-title" id="building-detail-title">ê±´ë¬¼ëª…</div>
                   <div class="building-subtitle" id="building-detail-subtitle">ê±´ë¬¼ ì„¤ëª…</div>
               </div>
               
               <div class="building-image-large">
                   <img id="building-detail-image" src="/api/placeholder/400/200" alt="ê±´ë¬¼ ì´ë¯¸ì§€">
               </div>
               
               <div class="section-title">
                   <span>ì‹¤ë‚´ ì§€ë„</span>
               </div>
               
               <div class="floor-selector" id="floor-selector">
                   <!-- ì¸µ ì„ íƒ ë²„íŠ¼ë“¤ì´ JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
               </div>
               
               <div class="floor-map-container">
                   <div class="floor-map" id="floor-map">
                       <!-- ì‹¤ë‚´ ì§€ë„ì™€ ê°•ì˜ì‹¤ ë§ˆì»¤ê°€ JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
                   </div>
               </div>
               
               <div class="navigation-controls">
                   <div class="navigation-title">ê°•ì˜ì‹¤ ê¸¸ì°¾ê¸°</div>
                   <div class="navigation-form">
                       <div class="form-group">
                           <label class="form-label" for="start-point">ì¶œë°œì§€</label>
                           <select class="form-select" id="start-point">
                               <option value="entrance">ê±´ë¬¼ ì…êµ¬</option>
                               <!-- ë‹¤ë¥¸ ì¶œë°œì§€ ì˜µì…˜ì€ JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
                           </select>
                       </div>
                       <div class="form-group">
                           <label class="form-label" for="end-point">ë„ì°©ì§€</label>
                           <select class="form-select" id="end-point">
                               <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                               <!-- ë„ì°©ì§€ ì˜µì…˜ì€ JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
                           </select>
                       </div>
                       <button class="navigation-button" onclick="findPath()">ê¸¸ì°¾ê¸°</button>
                   </div>
               </div>
               
               <div class="navigation-instructions" id="navigation-instructions">
                   <div class="instruction-title">ê¸¸ì°¾ê¸° ì•ˆë‚´</div>
                   <ul class="instruction-list" id="instruction-list">
                       <!-- ê¸¸ì°¾ê¸° ì•ˆë‚´ í•­ëª©ë“¤ì´ JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
                   </ul>
               </div>
               
               <div class="section-title">
                   <span>ê°•ì˜ì‹¤ ëª©ë¡</span>
               </div>
               
               <ul class="classroom-list" id="classroom-list">
                   <!-- ê°•ì˜ì‹¤ ëª©ë¡ í•­ëª©ë“¤ì´ JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
               </ul>
           </div>
           
           <div class="content-pad"></div>
       </div>
       
       <!-- í•˜ë‹¨ íƒ­ ë©”ë‰´ ìƒëµ (ê¸°ì¡´ ì½”ë“œì™€ ë™ì¼) -->
       <div class="tab-menu">
           <div class="tab-item active" onclick="switchTab('home')">
               <span class="tab-icon">ğŸ </span>
               <span>í™ˆ</span>
           </div>
           <div class="tab-item" onclick="switchTab('facility')">
               <span class="tab-icon">ğŸ«</span>
               <span>ì‹œì„¤</span>
           </div>
           <div class="tab-item" onclick="switchTab('community')">
               <span class="tab-icon">ğŸ’¬</span>
               <span>ì»¤ë®¤ë‹ˆí‹°</span>
           </div>
           <div class="tab-item" onclick="switchTab('profile')">
               <span class="tab-icon">ğŸ‘¤</span>
               <span>ë‚´ ì •ë³´</span>
           </div>
           <div class="tab-item" onclick="switchTab('alert')">
               <span class="tab-icon">ğŸ””</span>
               <span>ì•Œë¦¼</span>
           </div>
       </div>
   </div>
   
   <script>
       // ê±´ë¬¼ ë°ì´í„° (ë°°ì—´ë¡œ ì •ì˜) - ì´ë¯¸ì§€ì—ì„œ í™•ì¸ëœ ê±´ë¬¼ ì´ë¦„ìœ¼ë¡œ ìˆ˜ì •
       const buildingData = [
           {
               id: 'ê³µí•™1ê´€',
               name: 'ê³µí•™1ê´€',
               description: 'ê³µí•™ê³„ì—´ ê°•ì˜ì‹¤, ì‹¤í—˜ì‹¤',
               image: '/api/placeholder/80/60',
               type: 'building',
               position: { lat: 37.39632767479923, lng: 126.90699348692698 },
               floors: [1, 2, 3, 4, 5],  // ê±´ë¬¼ ì¸µìˆ˜
               entrances: [
                   { id: 'main', name: 'ì •ë¬¸', floor: 1, position: { x: 100, y: 350 } },
                   { id: 'side', name: 'ì¸¡ë©´ ì…êµ¬', floor: 1, position: { x: 250, y: 350 } }
               ]
           },
           {
               id: 'ìì—°ê³¼í•™ê´€',
               name: 'ìì—°ê³¼í•™ê´€',
               description: 'ë°˜ë ¤ë™ë¬¼ë³´ê±´í•™ê³¼, ë°˜ë ¤ë™ë¬¼ì‚°ì—…ê³¼',
               image: '/api/placeholder/80/60',
               type: 'building',
               position: { lat: 37.39669466288283, lng: 126.90676716508685 },
               floors: [1, 2, 3, 4],
               entrances: [
                   { id: 'main', name: 'ì •ë¬¸', floor: 1, position: { x: 100, y: 350 } }
               ]
           },
           {
               id: 'ì‹í’ˆê³¼í•™ê´€',
               name: 'ì‹í’ˆê³¼í•™ê´€',
               description: 'ì‹í’ˆì˜ì–‘í•™ê³¼, ì¡°ë¦¬ì‹¤ìŠµì‹¤',
               image: '/api/placeholder/80/60',
               type: 'building',
               position: { lat: 37.39714809720343, lng: 126.90762208499473 },
               floors: [1, 2, 3, 4],
               entrances: [
                   { id: 'main', name: 'ì •ë¬¸', floor: 1, position: { x: 100, y: 350 } }
               ]
           },
           {
               id: 'ë„ì˜ê´€',
               name: 'ë„ì˜ê´€',
               description: 'êµì–‘ ìˆ˜ì—…, ê°•ë‹¹',
               image: '/api/placeholder/80/60',
               type: 'building',
               position: { lat: 37.39679932128769, lng: 126.90809683728425 },
               floors: [1, 2, 3],
               entrances: [
                   { id: 'main', name: 'ì •ë¬¸', floor: 1, position: { x: 100, y: 350 } }
               ]
           },
           {
               id: 'ê³µí•™2ê´€',
               name: 'ê³µí•™2ê´€',
               description: 'ê³µí•™ê³„ì—´ ì‹¤ìŠµì‹¤, ì—°êµ¬ì‹¤',
               image: '/api/placeholder/80/60',
               type: 'building',
               position: { lat: 37.396789747114205, lng: 126.90737406929797 },
               floors: [1, 2, 3, 4, 5],
               entrances: [
                   { id: 'main', name: 'ì •ë¬¸', floor: 1, position: { x: 100, y: 350 } },
                   { id: 'side', name: 'ì¸¡ë©´ ì…êµ¬', floor: 1, position: { x: 250, y: 350 } }
               ]
           },
           // ë‹¤ë¥¸ ê±´ë¬¼ë“¤... (ìƒëµ)
       ];

       // ê°•ì˜ì‹¤ ë°ì´í„° - ê±´ë¬¼ë³„ ê°•ì˜ì‹¤ ì •ë³´
       const classroomData = {
           'ê³µí•™1ê´€': {
               '1': [  // 1ì¸µ
                   { id: 'E1-101', name: '101í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 100, y: 100 } },
                   { id: 'E1-102', name: '102í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 200, y: 100 } },
                   { id: 'E1-103', name: '103í˜¸', type: 'ì‹¤í—˜ì‹¤', capacity: 30, position: { x: 300, y: 100 } },
                   { id: 'E1-104', name: '104í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 60, position: { x: 100, y: 200 } },
                   { id: 'E1-105', name: '105í˜¸', type: 'ì‹¤ìŠµì‹¤', capacity: 30, position: { x: 200, y: 200 } },
                   { id: 'E1-106', name: 'í•™ìƒíšŒì‹¤', type: 'ì‚¬ë¬´ì‹¤', capacity: 20, position: { x: 300, y: 200 } }
               ],
               '2': [  // 2ì¸µ
                   { id: 'E1-201', name: '201í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 100, y: 100 } },
                   { id: 'E1-202', name: '202í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 200, y: 100 } },
                   { id: 'E1-203', name: '203í˜¸', type: 'ì‹¤í—˜ì‹¤', capacity: 30, position: { x: 300, y: 100 } },
                   { id: 'E1-204', name: '204í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 60, position: { x: 100, y: 200 } },
                   { id: 'E1-205', name: '205í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 60, position: { x: 200, y: 200 } },
                   { id: 'E1-206', name: 'ì»´í“¨í„°ì‹¤', type: 'ì‹¤ìŠµì‹¤', capacity: 40, position: { x: 300, y: 200 } }
               ],
               '3': [  // 3ì¸µ
                   { id: 'E1-301', name: '301í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 100, y: 100 } },
                   { id: 'E1-302', name: '302í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 200, y: 100 } },
                   { id: 'E1-303', name: '303í˜¸', type: 'ì‹¤í—˜ì‹¤', capacity: 30, position: { x: 300, y: 100 } },
                   { id: 'E1-304', name: '304í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 60, position: { x: 100, y: 200 } },
                   { id: 'E1-305', name: '305í˜¸', type: 'êµìˆ˜ì—°êµ¬ì‹¤', capacity: 4, position: { x: 200, y: 200 } },
                   { id: 'E1-306', name: '306í˜¸', type: 'êµìˆ˜ì—°êµ¬ì‹¤', capacity: 4, position: { x: 300, y: 200 } }
               ],
               '4': [  // 4ì¸µ
                   { id: 'E1-401', name: '401í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 100, y: 100 } },
                   { id: 'E1-402', name: '402í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 200, y: 100 } },
                   { id: 'E1-403', name: '403í˜¸', type: 'ì‹¤í—˜ì‹¤', capacity: 30, position: { x: 300, y: 100 } },
                   { id: 'E1-404', name: '404í˜¸', type: 'ì„¸ë¯¸ë‚˜ì‹¤', capacity: 20, position: { x: 100, y: 200 } },
                   { id: 'E1-405', name: '405í˜¸', type: 'êµìˆ˜ì—°êµ¬ì‹¤', capacity: 4, position: { x: 200, y: 200 } },
                   { id: 'E1-406', name: '406í˜¸', type: 'êµìˆ˜ì—°êµ¬ì‹¤', capacity: 4, position: { x: 300, y: 200 } }
               ],
               '5': [  // 5ì¸µ
                   { id: 'E1-501', name: '501í˜¸', type: 'ì„¸ë¯¸ë‚˜ì‹¤', capacity: 30, position: { x: 100, y: 100 } },
                   { id: 'E1-502', name: '502í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 200, y: 100 } },
                   { id: 'E1-503', name: '503í˜¸', type: 'ì „ì‚°ì‹¤', capacity: 60, position: { x: 300, y: 100 } },
                   { id: 'E1-504', name: '504í˜¸', type: 'íšŒì˜ì‹¤', capacity: 16, position: { x: 100, y: 200 } },
                   { id: 'E1-505', name: '505í˜¸', type: 'êµìˆ˜ì—°êµ¬ì‹¤', capacity: 4, position: { x: 200, y: 200 } },
                   { id: 'E1-506', name: '506í˜¸', type: 'êµìˆ˜ì—°êµ¬ì‹¤', capacity: 4, position: { x: 300, y: 200 } }
               ]
           },
           'ìì—°ê³¼í•™ê´€': {
               '1': [
                   // ìì—°ê³¼í•™ê´€ 1ì¸µ ê°•ì˜ì‹¤ë“¤...
                   { id: 'S1-101', name: '101í˜¸', type: 'ê°•ì˜ì‹¤', capacity: 40, position: { x: 100, y: 100 } },
                   { id: 'S1-102', name: '102í˜¸', type: 'ì‹¤í—˜ì‹¤', capacity: 30, position: { x: 200, y: 100 } },
                   { id: 'S1-103', name: '103í˜¸', type: 'ë™ë¬¼ì‹¤ìŠµì‹¤', capacity: 30, position: { x: 300, y: 100 } }
               ],
               // ë‹¤ë¥¸ ì¸µ ë°ì´í„°...
           },
           // ë‹¤ë¥¸ ê±´ë¬¼ì˜ ê°•ì˜ì‹¤ ë°ì´í„°...
       };

       // ê²½ë¡œ ë°ì´í„° - ê° ê±´ë¬¼ ë‚´ ì—°ê²° ì§€ì  ì •ë³´
       const pathData = {
           'ê³µí•™1ê´€': {
               '1': [  // 1ì¸µ ê²½ë¡œ ì 
                   { id: 'e1', name: 'ë™ìª½ ê³„ë‹¨', type: 'stairs', position: { x: 350, y: 150 }, connections: ['e2'] },
                   { id: 'w1', name: 'ì„œìª½ ê³„ë‹¨', type: 'stairs', position: { x: 50, y: 150 }, connections: ['w2'] },
                   { id: 'c1', name: 'ì¤‘ì•™ ë³µë„', type: 'corridor', position: { x: 200, y: 150 }, connections: ['e1', 'w1'] },
                   { id: 'main', name: 'ì •ë¬¸', type: 'entrance', position: { x: 100, y: 350 }, connections: ['c1'] },
                   { id: 'side', name: 'ì¸¡ë©´ ì…êµ¬', type: 'entrance', position: { x: 250, y: 350 }, connections: ['c1'] }
               ],
               '2': [  // 2ì¸µ ê²½ë¡œ ì 
                   { id: 'e2', name: 'ë™ìª½ ê³„ë‹¨', type: 'stairs', position: { x: 350, y: 150 }, connections: ['e1', 'e3'] },
                   { id: 'w2', name: 'ì„œìª½ ê³„ë‹¨', type: 'stairs', position: { x: 50, y: 150 }, connections: ['w1', 'w3'] },
                   { id: 'c2', name: 'ì¤‘ì•™ ë³µë„', type: 'corridor', position: { x: 200, y: 150 }, connections: ['e2', 'w2'] }
               ],
               // ë‹¤ë¥¸ ì¸µ ê²½ë¡œ...
           },
           // ë‹¤ë¥¸ ê±´ë¬¼ ê²½ë¡œ...
       };

       // í˜„ì¬ í™œì„±í™”ëœ ê±´ë¬¼ IDì™€ ì¸µ
       let currentBuildingId = null;
       let currentFloor = null;
       let currentPathPoints = [];
       
       // ë„¤ì´ë²„ ì§€ë„ ê´€ë ¨ ë³€ìˆ˜
       let naverMap;
       let mapMarkers = [];
       let infoWindows = [];
       
       // í˜ì´ì§€ë„¤ì´ì…˜ ë³€ìˆ˜
       let currentPage = 1;
       const buildingsPerPage = 5;
       
       // í˜ì´ì§€ ë¡œë“œì‹œ ì‹¤í–‰ë  í•¨ìˆ˜
       document.addEventListener('DOMContentLoaded', function() {
           // ì‹œì„¤ íƒ­ ì´ˆê¸°í™”
           initFacilityTab();
           
           // ë„¤ì´ë²„ ì§€ë„ ì´ˆê¸°í™” - ì•½ê°„ ì§€ì—°ì‹œì¼œ ì‹¤í–‰
           setTimeout(initNaverMap, 500);
           
           // íƒ­ ì „í™˜ ì‹œ ì§€ë„ ê°±ì‹ ì„ ìœ„í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
           document.querySelectorAll('.tab-item').forEach(item => {
               item.addEventListener('click', function() {
                   const tabId = this.textContent.trim().toLowerCase();
                   if (tabId.includes('ì‹œì„¤')) {
                       setTimeout(function() {
                           if (naverMap) {
                               window.dispatchEvent(new Event('resize'));
                               naverMap.refresh();
                           }
                       }, 300);
                   }
               });
           });
       });
       
       // ì‹œì„¤ íƒ­ ì´ˆê¸°í™” í•¨ìˆ˜
       function initFacilityTab() {
           loadBuildingsByPage(currentPage);
           updatePaginationControls();
       }
       
       // í•´ë‹¹ í˜ì´ì§€ì˜ ê±´ë¬¼ ëª©ë¡ ë¡œë“œ í•¨ìˆ˜
       function loadBuildingsByPage(page) {
           // ê±´ë¬¼ ëª©ë¡ ì»¨í…Œì´ë„ˆ
           const buildingListElement = document.querySelector('#facility-tab .building-list');
           if (!buildingListElement) return;
           
           // ëª©ë¡ ì´ˆê¸°í™”
           buildingListElement.innerHTML = '';
           
           // í˜ì´ì§€ì— í•´ë‹¹í•˜ëŠ” ê±´ë¬¼ ì¸ë±ìŠ¤ ê³„ì‚°
           const startIndex = (page - 1) * buildingsPerPage;
           const endIndex = Math.min(startIndex + buildingsPerPage, buildingData.length);
           
           // í˜ì´ì§€ì— í•´ë‹¹í•˜ëŠ” ê±´ë¬¼ ëª©ë¡ ìƒì„±
           for (let i = startIndex; i < endIndex; i++) {
               const building = buildingData[i];
               
               const listItem = document.createElement('li');
               listItem.className = 'building-item';
               listItem.onclick = function() { 
                   showBuildingDetail(building.id);
               };
               
               listItem.innerHTML = `
                   <div class="building-image">
                       <img src="${building.image}" alt="${building.name}">
                   </div>
                   <div class="building-info-container">
                       <div class="building-info">
                           <div class="building-name">${building.name}</div>
                           <div class="building-description">${building.description}</div>
                       </div>
                       <div class="building-nav-button" onclick="viewIndoorMap('${building.id}', event)">
                           <span>ë‚´ë¶€ì§€ë„</span>
                           <span>ğŸ”</span>
                       </div>
                   </div>
               `;
               
               buildingListElement.appendChild(listItem);
           }
           
           // í˜„ì¬ í˜ì´ì§€ ì €ì¥
           currentPage = page;
       }
       
       // í˜ì´ì§€ë„¤ì´ì…˜ ì»¨íŠ¸ë¡¤ ì—…ë°ì´íŠ¸
       function updatePaginationControls() {
           // ì´ í˜ì´ì§€ ìˆ˜ ê³„ì‚°
           const totalPages = Math.ceil(buildingData.length / buildingsPerPage);
           
           // í˜ì´ì§€ë„¤ì´ì…˜ ì»¨íŠ¸ë¡¤ ì»¨í…Œì´ë„ˆ
           const paginationContainer = document.querySelector('#pagination-controls');
           if (!paginationContainer) return;
           
           // ì»¨íŠ¸ë¡¤ ì´ˆê¸°í™”
           paginationContainer.innerHTML = '';
           
           // ì´ì „ í˜ì´ì§€ ë²„íŠ¼
           const prevButton = document.createElement('button');
           prevButton.className = 'pagination-button';
           prevButton.textContent = 'ì´ì „';
           prevButton.disabled = currentPage === 1;
           prevButton.onclick = function() {
               if (currentPage > 1) {
                   loadBuildingsByPage(currentPage - 1);
                   updatePaginationControls();
               }
           };
           paginationContainer.appendChild(prevButton);
           
           // í˜ì´ì§€ ë²ˆí˜¸ ë²„íŠ¼ (ê°„ëµí™”)
           for (let i = 1; i <= Math.min(totalPages, 3); i++) {
               const pageButton = document.createElement('button');
               pageButton.className = 'pagination-button';
               pageButton.textContent = i;
               
               if (i === currentPage) {
                   pageButton.classList.add('active');
               }
               
               pageButton.onclick = function() {
                   loadBuildingsByPage(i);
                   updatePaginationControls();
               };
               
               paginationContainer.appendChild(pageButton);
           }
           
           // ë‹¤ìŒ í˜ì´ì§€ ë²„íŠ¼
           const nextButton = document.createElement('button');
           nextButton.className = 'pagination-button';
           nextButton.textContent = 'ë‹¤ìŒ';
           nextButton.disabled = currentPage === totalPages;
           nextButton.onclick = function() {
               if (currentPage < totalPages) {
                   loadBuildingsByPage(currentPage + 1);
                   updatePaginationControls();
               }
           };
           paginationContainer.appendChild(nextButton);
       }
       
       // ë„¤ì´ë²„ ì§€ë„ ì´ˆê¸°í™”
       function initNaverMap() {
           console.log('ë„¤ì´ë²„ ì§€ë„ ì´ˆê¸°í™” ì‹œì‘...');
           
           // ë„¤ì´ë²„ ì§€ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
           if (typeof naver === 'undefined' || typeof naver.maps === 'undefined') {
               console.error('ë„¤ì´ë²„ ì§€ë„ APIê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•©ë‹ˆë‹¤.');
               // 1ì´ˆ í›„ì— ë‹¤ì‹œ ì‹œë„
               setTimeout(initNaverMap, 1000);
               return;
           }
           
           try {
               // ì§€ë„ ì»¨í…Œì´ë„ˆ ì¡´ì¬ í™•ì¸
               const mapContainer = document.getElementById('naverMap');
               if (!mapContainer) {
                   console.error('ì§€ë„ ì»¨í…Œì´ë„ˆê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                   return;
               }
               
               // ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ ëª…ì‹œì  ì„¤ì •
               mapContainer.style.width = '100%';
               mapContainer.style.height = '100%';
               
               console.log('ë„¤ì´ë²„ ì§€ë„ ì»¨í…Œì´ë„ˆ í™•ì¸ë¨');
               
               // ì—°ì„±ëŒ€í•™êµ ìœ„ì¹˜ (ì‹¤ì œ ì¢Œí‘œë¡œ ì„¤ì •)
               const yeonsung = new naver.maps.LatLng(37.39661657434427, 126.90772437800818);
               
               // ì§€ë„ ì˜µì…˜
               const mapOptions = {
                   center: yeonsung,
                   zoom: 16,
                   minZoom: 14,
                   maxZoom: 19,
                   zoomControl: true,
                   zoomControlOptions: {
                       position: naver.maps.Position.TOP_RIGHT
                   },
                   scaleControl: true,
                   logoControl: true,
                   mapDataControl: true
               };
               
               console.log('ì§€ë„ ì˜µì…˜ ì„¤ì • ì™„ë£Œ');
               
               // ì§€ë„ ìƒì„±
               naverMap = new naver.maps.Map('naverMap', mapOptions);
               
               // ì§€ë„ê°€ ì™„ì „íˆ ë¡œë“œëœ í›„ ë¦¬ì‚¬ì´ì¦ˆ íŠ¸ë¦¬ê±°
               naver.maps.Event.once(naverMap, 'init_stylemap', function() {
                   console.log('ì§€ë„ ìŠ¤íƒ€ì¼ë§µ ì´ˆê¸°í™” ì™„ë£Œ');
                   window.dispatchEvent(new Event('resize'));
                   naverMap.refresh();
               });
               
               console.log('ë„¤ì´ë²„ ì§€ë„ ê°ì²´ ìƒì„± ì™„ë£Œ');
               
               // ë§ˆì»¤ì™€ ì •ë³´ì°½ ë°°ì—´ ì´ˆê¸°í™”
               mapMarkers = [];
               infoWindows = [];
               
               // ë©”ì¸ ë§ˆì»¤ ì¶”ê°€ (ì—°ì„±ëŒ€í•™êµ ìœ„ì¹˜)
               const mainMarker = new naver.maps.Marker({
                   position: yeonsung,
                   map: naverMap,
                   title: 'ì—°ì„±ëŒ€í•™êµ',
                   zIndex: 100,
                   icon: {
                       content: `<div style="background-color: #2196F3; color: white; padding: 5px 10px; border-radius: 15px; font-weight: bold; font-size: 14px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">ì—°ì„±ëŒ€í•™êµ</div>`,
                       anchor: new naver.maps.Point(50, 15)
                   }
               });
               mapMarkers.push(mainMarker);
               
               console.log('ë©”ì¸ ë§ˆì»¤ ì¶”ê°€ ì™„ë£Œ');
               
               // ê±´ë¬¼ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§ˆì»¤ ìƒì„±
               buildingData.forEach((building, index) => {
                   if (!building.position || !building.position.lat || !building.position.lng) {
                       console.warn(`ê±´ë¬¼ ${building.name}ì˜ ìœ„ì¹˜ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.`);
                       return;
                   }

                   // ë§ˆì»¤ ìƒì„±
                   const marker = new naver.maps.Marker({
                       position: new naver.maps.LatLng(building.position.lat, building.position.lng),
                       map: naverMap,
                       title: building.name,
                       visible: true,
                       icon: {
                           content: `<div style="background-color: #c62917; color: white; padding: 5px 10px; border-radius: 15px; font-weight: bold; font-size: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">${building.name}</div>`,
                           anchor: new naver.maps.Point(30, 15)
                       }
                   });
                   
                   // ì •ë³´ì°½ ë‚´ìš© (ì‹¤ë‚´ ì§€ë„ ë³´ê¸° ë²„íŠ¼ ì¶”ê°€)
                   const contentString = `
                       <div class="map-info-window">
                           <div class="map-info-title">${building.name}</div>
                           <div class="map-info-desc">${building.description}</div>
                           <div style="margin-top: 8px;">
                               <button onclick="viewIndoorMap('${building.id}')" style="padding: 4px 8px; background-color: #c62917; color: white; border: none; border-radius: 4px; font-size: 12px; cursor: pointer;">ë‚´ë¶€ ì§€ë„ ë³´ê¸°</button>
                           </div>
                       </div>
                   `;
                   
                   // ì •ë³´ì°½ ìƒì„±
                   const infoWindow = new naver.maps.InfoWindow({
                       content: contentString,
                       maxWidth: 200,
                       backgroundColor: "white",
                       borderColor: "#ddd",
                       borderWidth: 1,
                       anchorSize: new naver.maps.Size(10, 10),
                       pixelOffset: new naver.maps.Point(0, -10)
                   });
                   
                   // ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸
                   naver.maps.Event.addListener(marker, 'click', function() {
                       // ë‹¤ë¥¸ ëª¨ë“  ì •ë³´ì°½ ë‹«ê¸°
                       infoWindows.forEach(window => window.close());
                       
                       // í˜„ì¬ ì •ë³´ì°½ ì—´ê¸°
                       infoWindow.open(naverMap, marker);
                       
                       // ì§€ë„ ì¤‘ì‹¬ ì´ë™
                       naverMap.setCenter(building.position);
                   });
                   
                   // ë°°ì—´ì— ì¶”ê°€
                   mapMarkers.push(marker);
                   infoWindows.push(infoWindow);
               });
               
               console.log('ê±´ë¬¼ ë§ˆì»¤ ì¶”ê°€ ì™„ë£Œ. ë§ˆì»¤ ìˆ˜: ' + mapMarkers.length);
               
               // ì§€ë„ ë¦¬ì‚¬ì´ì¦ˆ ì´ë²¤íŠ¸ - ë””ë°”ìš´ìŠ¤ ì ìš©
               let resizeTimer;
               window.addEventListener('resize', function() {
                   clearTimeout(resizeTimer);
                   resizeTimer = setTimeout(function() {
                       if (naverMap) {
                           naverMap.refresh();
                       }
                   }, 200);
               });
               
               console.log('ë„¤ì´ë²„ ì§€ë„ê°€ ì„±ê³µì ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
           } catch (error) {
               console.error('ë„¤ì´ë²„ ì§€ë„ ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:', error);
           }
       }
       
       // íƒ­ ì „í™˜ í•¨ìˆ˜ (ì‹¤ë‚´ ì§€ë„ íƒ­ ì¶”ê°€)
       function switchTab(tabName) {
           // ëª¨ë“  íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
           document.querySelectorAll('.tab-content').forEach(tab => {
               tab.classList.remove('active');
           });
           
           // ì„ íƒí•œ íƒ­ ì½˜í…ì¸  í‘œì‹œ
           document.getElementById(`${tabName}-tab`).classList.add('active');
           
           // íƒ­ ë©”ë‰´ í™œì„±í™” ìƒíƒœ ë³€ê²½
           document.querySelectorAll('.tab-item').forEach(item => {
               item.classList.remove('active');
           });
           
           // í˜„ì¬ ì„ íƒëœ íƒ­ ë²„íŠ¼ í™œì„±í™”
           const tabItems = document.querySelectorAll('.tab-item');
           for (let i = 0; i < tabItems.length; i++) {
               if (tabItems[i].textContent.trim().toLowerCase().includes(tabName)) {
                   tabItems[i].classList.add('active');
                   break;
               }
           }
           
           // ì‹œì„¤ íƒ­ìœ¼ë¡œ ì „í™˜ ì‹œ ì§€ë„ ê°±ì‹ 
           if (tabName === 'facility') {
               // ì²« í˜ì´ì§€ ë¡œë“œ
               currentPage = 1;
               loadBuildingsByPage(currentPage);
               updatePaginationControls();
               
               // ì§€ë„ ê°±ì‹ ì„ ìœ„í•œ ë‹¤ì¤‘ ì‹œë„
               if (naverMap) {
                   // ì¦‰ì‹œ í•œ ë²ˆ
                   naverMap.refresh();
                   
                   // ì•½ê°„ ì§€ì—° í›„ ë‹¤ì‹œ ì‹œë„
                   setTimeout(() => {
                       window.dispatchEvent(new Event('resize'));
                       naverMap.refresh();
                   }, 100);
                   
                   // 300ms í›„ ë‹¤ì‹œ ì‹œë„ (íƒ­ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„)
                   setTimeout(() => {
                       window.dispatchEvent(new Event('resize'));
                       naverMap.refresh();
                   }, 300);
               }
           }
       }
       
       // ë‚´ë¶€ ì§€ë„ ë³´ê¸° í•¨ìˆ˜
       function viewIndoorMap(buildingId, event) {
           // ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë°©ì§€
           if (event) {
               event.stopPropagation();
           }
           
           // í•´ë‹¹ ê±´ë¬¼ì˜ ë°ì´í„° ì°¾ê¸°
           const building = buildingData.find(b => b.id === buildingId);
           
           if (!building) {
               alert('ê±´ë¬¼ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
               return;
           }
           
           // í˜„ì¬ ê±´ë¬¼ ID ì €ì¥
           currentBuildingId = buildingId;
           
           // ê±´ë¬¼ ìƒì„¸ ì •ë³´ ì—…ë°ì´íŠ¸
           document.getElementById('building-detail-title').textContent = building.name;
           document.getElementById('building-detail-subtitle').textContent = building.description;
           document.getElementById('building-detail-image').src = building.image;
           
           // ì¸µ ì„ íƒ ë²„íŠ¼ ì´ˆê¸°í™”
           const floorSelector = document.getElementById('floor-selector');
           floorSelector.innerHTML = '';
           
           // ì¸µ ì„ íƒ ë²„íŠ¼ ìƒì„±
           for (const floor of building.floors) {
               const floorButton = document.createElement('div');
               floorButton.className = 'floor-button';
               floorButton.textContent = `${floor}ì¸µ`;
               floorButton.onclick = () => loadFloorMap(buildingId, floor);
               floorSelector.appendChild(floorButton);
           }
           
           // ê±´ë¬¼ ë‚´ë¶€ ì§€ë„ íƒ­ìœ¼ë¡œ ì „í™˜
           document.querySelectorAll('.tab-content').forEach(tab => {
               tab.classList.remove('active');
           });
           document.getElementById('building-detail-tab').classList.add('active');
           
           // ì²« ë²ˆì§¸ ì¸µ ë¡œë“œ
           loadFloorMap(buildingId, building.floors[0]);
       }
       
       // ì¸µë³„ ì§€ë„ ë¡œë“œ í•¨ìˆ˜
       function loadFloorMap(buildingId, floor) {
           // í˜„ì¬ ì¸µ ì €ì¥
           currentFloor = floor;
           
           // ì¸µ ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
           const floorButtons = document.querySelectorAll('.floor-button');
           floorButtons.forEach(button => {
               button.classList.remove('active');
               if (button.textContent === `${floor}ì¸µ`) {
                   button.classList.add('active');
               }
           });
           
           // ì¸µë³„ ê°•ì˜ì‹¤ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
           const floorClassrooms = classroomData[buildingId] ? classroomData[buildingId][floor] || [] : [];
           
           // ê°•ì˜ì‹¤ ê²½ë¡œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
           const floorPaths = pathData[buildingId] ? pathData[buildingId][floor] || [] : [];
           
           // ê°•ì˜ì‹¤ ëª©ë¡ ì—…ë°ì´íŠ¸
           updateClassroomList(floorClassrooms);
           
           // ì¸µë³„ ì§€ë„ ê·¸ë¦¬ê¸°
           drawFloorMap(buildingId, floor, floorClassrooms, floorPaths);
           
           // ì¶œë°œì§€ ë° ë„ì°©ì§€ ì„ íƒ ì—…ë°ì´íŠ¸
           updateNavigationSelectors(buildingId, floor, floorClassrooms, floorPaths);
           
           // ê²½ë¡œ ì•ˆë‚´ ì´ˆê¸°í™”
           document.getElementById('navigation-instructions').style.display = 'none';
       }
       
       // ê°•ì˜ì‹¤ ëª©ë¡ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
       function updateClassroomList(classrooms) {
           const classroomList = document.getElementById('classroom-list');
           classroomList.innerHTML = '';
           
           if (!classrooms || classrooms.length === 0) {
               classroomList.innerHTML = '<div style="padding: 16px; text-align: center; color: #888;">í•´ë‹¹ ì¸µì— ê°•ì˜ì‹¤ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
               return;
           }
           
           // ê°•ì˜ì‹¤ í•­ëª© ìƒì„±
           classrooms.forEach(classroom => {
               const classroomItem = document.createElement('li');
               classroomItem.className = 'classroom-item';
               classroomItem.innerHTML = `
                   <div class="classroom-info">
                       <div class="classroom-name">${classroom.name} (${classroom.id})</div>
                       <div class="classroom-desc">${classroom.type} | ìˆ˜ìš©ì¸ì›: ${classroom.capacity}ëª…</div>
                   </div>
                   <div class="classroom-button" onclick="findPathToClassroom('${classroom.id}')">ê¸¸ì°¾ê¸°</div>
               `;
               classroomList.appendChild(classroomItem);
           });
       }
       
       // ì¸µë³„ ì§€ë„ ê·¸ë¦¬ê¸° í•¨ìˆ˜
       function drawFloorMap(buildingId, floor, classrooms, paths) {
           const floorMap = document.getElementById('floor-map');
           floorMap.innerHTML = '';
           
           // ì‹¤ë‚´ ì§€ë„ ë°°ê²½ ì´ë¯¸ì§€ (SVG ë˜ëŠ” ì´ë¯¸ì§€)
           floorMap.style.backgroundImage = `url('/api/placeholder/500/350?text=${buildingId} ${floor}ì¸µ')`;
           floorMap.style.backgroundSize = 'cover';
           floorMap.style.backgroundPosition = 'center';
           
           // ê¸°ì¡´ ê²½ë¡œ ì„  ë° ë§ˆì»¤ ì´ˆê¸°í™”
           clearPathLines();
           
           // ê°•ì˜ì‹¤ ë§ˆì»¤ ìƒì„±
           if (classrooms && classrooms.length > 0) {
               classrooms.forEach(classroom => {
                   const marker = document.createElement('div');
                   marker.className = 'classroom-marker';
                   marker.textContent = classroom.name.replace(/[^0-9]/g, ''); // ìˆ«ìë§Œ í‘œì‹œ
                   marker.style.left = `${classroom.position.x}px`;
                   marker.style.top = `${classroom.position.y}px`;
                   marker.setAttribute('data-id', classroom.id);
                   marker.setAttribute('data-name', classroom.name);
                   marker.setAttribute('data-type', classroom.type);
                   
                   // ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸
                   marker.addEventListener('click', function() {
                       const roomId = this.getAttribute('data-id');
                       const roomName = this.getAttribute('data-name');
                       alert(`${roomName} (${roomId})\níƒ€ì…: ${this.getAttribute('data-type')}`);
                   });
                   
                   floorMap.appendChild(marker);
               });
           }
           
           // ê²½ë¡œ ì •ë³´ ë§ˆì»¤ ìƒì„±
           if (paths && paths.length > 0) {
               paths.forEach(path => {
                   if (path.type === 'entrance' || path.type === 'stairs' || path.type === 'elevator') {
                       const marker = document.createElement('div');
                       marker.className = 'classroom-marker';
                       marker.classList.add(path.type);
                       
                       // ê²½ë¡œ ì§€ì  ì•„ì´ì½˜ ì„¤ì •
                       if (path.type === 'entrance') {
                           marker.textContent = 'ğŸšª';
                       } else if (path.type === 'stairs') {
                           marker.textContent = 'ğŸ”„';
                       } else if (path.type === 'elevator') {
                           marker.textContent = 'ğŸ”¼';
                       }
                       
                       marker.style.left = `${path.position.x}px`;
                       marker.style.top = `${path.position.y}px`;
                       marker.setAttribute('data-id', path.id);
                       marker.setAttribute('data-name', path.name);
                       marker.setAttribute('data-type', path.type);
                       
                       floorMap.appendChild(marker);
                   }
               });
           }
       }
       
       // ê¸¸ì°¾ê¸° ì„ íƒê¸° ì—…ë°ì´íŠ¸ í•¨ìˆ˜
       function updateNavigationSelectors(buildingId, floor, classrooms, paths) {
           const startPointSelect = document.getElementById('start-point');
           const endPointSelect = document.getElementById('end-point');
           
           // ì„ íƒê¸° ì´ˆê¸°í™”
           startPointSelect.innerHTML = '';
           endPointSelect.innerHTML = '<option value="">ì„ íƒí•˜ì„¸ìš”</option>';
           
           // ì¶œë°œì§€ ì˜µì…˜ (ì…êµ¬ ë° ê³„ë‹¨)
           if (paths && paths.length > 0) {
               paths.forEach(path => {
                   if (path.type === 'entrance' || path.type === 'stairs' || path.type === 'elevator') {
                       const option = document.createElement('option');
                       option.value = path.id;
                       option.textContent = path.name;
                       startPointSelect.appendChild(option);
                   }
               });
           }
           
           // ë„ì°©ì§€ ì˜µì…˜ (ê°•ì˜ì‹¤)
           if (classrooms && classrooms.length > 0) {
               classrooms.forEach(classroom => {
                   const option = document.createElement('option');
                   option.value = classroom.id;
                   option.textContent = `${classroom.name} (${classroom.type})`;
                   endPointSelect.appendChild(option);
               });
           }
       }
       
       // íŠ¹ì • ê°•ì˜ì‹¤ë¡œ ê¸¸ì°¾ê¸° í•¨ìˆ˜
       function findPathToClassroom(classroomId) {
           const endPointSelect = document.getElementById('end-point');
           endPointSelect.value = classroomId;
           
           // ê¸¸ì°¾ê¸° ì‹¤í–‰
           findPath();
       }
       
       // ê¸¸ì°¾ê¸° ì‹¤í–‰ í•¨ìˆ˜
       function findPath() {
           const startPointSelect = document.getElementById('start-point');
           const endPointSelect = document.getElementById('end-point');
           
           const startId = startPointSelect.value;
           const endId = endPointSelect.value;
           
           if (!startId || !endId) {
               alert('ì¶œë°œì§€ì™€ ë„ì°©ì§€ë¥¼ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”.');
               return;
           }
           
           // ê²½ë¡œ ê³„ì‚°
           const path = calculatePath(currentBuildingId, currentFloor, startId, endId);
           
           if (!path) {
               alert('ê²½ë¡œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
               return;
           }
           
           // ê²½ë¡œ í‘œì‹œ
           displayPath(path);
           
           // ê²½ë¡œ ì•ˆë‚´ í‘œì‹œ
           displayPathInstructions(path);
       }
       
       // ê²½ë¡œ ê³„ì‚° í•¨ìˆ˜ (ì‹¤ì œ ê¸¸ì°¾ê¸° ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„)
       function calculatePath(buildingId, floor, startId, endId) {
           // í•´ë‹¹ ê±´ë¬¼, ì¸µì˜ ê²½ë¡œ ë° ê°•ì˜ì‹¤ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
           const floorPaths = pathData[buildingId] ? pathData[buildingId][floor] || [] : [];
           const floorClassrooms = classroomData[buildingId] ? classroomData[buildingId][floor] || [] : [];
           
           if (!floorPaths.length || !floorClassrooms.length) {
               return null;
           }
           
           // ì‹œì‘ì  ì°¾ê¸°
           const startNode = floorPaths.find(p => p.id === startId);
           
           // ë„ì°© ê°•ì˜ì‹¤ ì°¾ê¸°
           const endRoom = floorClassrooms.find(c => c.id === endId);
           
           if (!startNode || !endRoom) {
               return null;
           }
           
           // ê°„ë‹¨í•œ ê²½ë¡œ ê³„ì‚° (ì‹¤ì œ ì•±ì—ì„œëŠ” ë” ë³µì¡í•œ ê¸¸ì°¾ê¸° ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„)
           // ì—¬ê¸°ì„œëŠ” ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ ê¸°ë³¸ ê²½ë¡œë§Œ ìƒì„±
           
           // ê°€ì¥ ê°€ê¹Œìš´ ë³µë„ ë…¸ë“œ ì°¾ê¸°
           let nearestCorridorId = null;
           let minDistance = Infinity;
           
           floorPaths.forEach(p => {
               if (p.type === 'corridor') {
                   // ë³µë„ ë…¸ë“œì™€ ê°•ì˜ì‹¤ ê°„ì˜ ê±°ë¦¬ ê³„ì‚°
                   const distance = calculateDistance(p.position, endRoom.position);
                   if (distance < minDistance) {
                       minDistance = distance;
                       nearestCorridorId = p.id;
                   }
               }
           });
           
           // ë³µë„ ë…¸ë“œ ì°¾ê¸°
           const corridorNode = floorPaths.find(p => p.id === nearestCorridorId);
           
           if (!corridorNode) {
               return null;
           }
           
           // ì‹œì‘ì  -> ë³µë„ -> ê°•ì˜ì‹¤ ê²½ë¡œ ìƒì„±
           return {
               points: [
                   { id: startId, position: startNode.position, name: startNode.name, type: 'start' },
                   { id: corridorNode.id, position: corridorNode.position, name: corridorNode.name, type: 'path' },
                   { id: endId, position: endRoom.position, name: endRoom.name, type: 'end' }
               ],
               distance: calculateDistance(startNode.position, corridorNode.position) + 
                        calculateDistance(corridorNode.position, endRoom.position)
           };
       }
       
       // ë‘ ì§€ì  ê°„ ê±°ë¦¬ ê³„ì‚° (ìœ í´ë¦¬ë“œ ê±°ë¦¬)
       function calculateDistance(pos1, pos2) {
           const dx = pos1.x - pos2.x;
           const dy = pos1.y - pos2.y;
           return Math.sqrt(dx * dx + dy * dy);
       }
       
       // ê²½ë¡œ í‘œì‹œ í•¨ìˆ˜
       function displayPath(path) {
           // ê¸°ì¡´ ê²½ë¡œ í‘œì‹œ ì œê±°
           clearPathLines();
           
           if (!path || !path.points || path.points.length < 2) {
               return;
           }
           
           const floorMap = document.getElementById('floor-map');
           
           // ê²½ë¡œ ì„  ê·¸ë¦¬ê¸°
           for (let i = 0; i < path.points.length - 1; i++) {
               const start = path.points[i];
               const end = path.points[i + 1];
               
               drawPathLine(floorMap, start.position, end.position);
           }
           
           // ê²½ë¡œ í¬ì¸íŠ¸ ë§ˆì»¤ ìƒì„±
           currentPathPoints = [];
           
           path.points.forEach((point, index) => {
               // ì²« ë²ˆì§¸ì™€ ë§ˆì§€ë§‰ ì§€ì  ì œì™¸ (ì´ë¯¸ í‘œì‹œë˜ì–´ ìˆìŒ)
               if (index > 0 && index < path.points.length - 1) {
                   const marker = document.createElement('div');
                   marker.className = 'classroom-marker path';
                   marker.textContent = index.toString();
                   marker.style.left = `${point.position.x}px`;
                   marker.style.top = `${point.position.y}px`;
                   floorMap.appendChild(marker);
                   
                   currentPathPoints.push(marker);
               }
           });
           
           // ì‹œì‘ì ê³¼ ì¢…ë£Œì ì— íŠ¹ë³„ ë§ˆì»¤ ì¶”ê°€
           const startPoint = path.points[0];
           const startMarker = document.createElement('div');
           startMarker.className = 'classroom-marker start';
           startMarker.textContent = 'S';
           startMarker.style.left = `${startPoint.position.x}px`;
           startMarker.style.top = `${startPoint.position.y}px`;
           floorMap.appendChild(startMarker);
           
           const endPoint = path.points[path.points.length - 1];
           const endMarker = document.createElement('div');
           endMarker.className = 'classroom-marker end';
           endMarker.textContent = 'E';
           endMarker.style.left = `${endPoint.position.x}px`;
           endMarker.style.top = `${endPoint.position.y}px`;
           floorMap.appendChild(endMarker);
           
           currentPathPoints.push(startMarker, endMarker);
       }
       
       // ê²½ë¡œ ì„  ê·¸ë¦¬ê¸° í•¨ìˆ˜
       function drawPathLine(container, start, end) {
           const line = document.createElement('div');
           line.className = 'path-line';
           
           // ì„ ì˜ ê¸¸ì´ ê³„ì‚°
           const length = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));
           
           // ì„ ì˜ ê°ë„ ê³„ì‚°
           const angle = Math.atan2(end.y - start.y, end.x - start.x) * (180 / Math.PI);
           
           // ì„ ì˜ ìŠ¤íƒ€ì¼ ì„¤ì •
           line.style.width = `${length}px`;
           line.style.height = '4px'; // ë‘ê»˜
           line.style.position = 'absolute';
           line.style.left = `${start.x}px`;
           line.style.top = `${start.y}px`;
           line.style.transformOrigin = '0 0';
           line.style.transform = `rotate(${angle}deg)`;
           
           container.appendChild(line);
           currentPathPoints.push(line);
       }
       
       // ê²½ë¡œ ì„  ë° ë§ˆì»¤ ì œê±° í•¨ìˆ˜
       function clearPathLines() {
           if (currentPathPoints && currentPathPoints.length > 0) {
               currentPathPoints.forEach(point => {
                   if (point.parentNode) {
                       point.parentNode.removeChild(point);
                   }
               });
           }
           currentPathPoints = [];
       }
       
       // ê²½ë¡œ ì•ˆë‚´ í‘œì‹œ í•¨ìˆ˜
       function displayPathInstructions(path) {
           const instructionsList = document.getElementById('instruction-list');
           const instructionsContainer = document.getElementById('navigation-instructions');
           
           // ì•ˆë‚´ ì´ˆê¸°í™”
           instructionsList.innerHTML = '';
           
           if (!path || !path.points || path.points.length < 2) {
               instructionsContainer.style.display = 'none';
               return;
           }
           
           // ê²½ë¡œ ì•ˆë‚´ í•­ëª© ìƒì„±
           for (let i = 0; i < path.points.length - 1; i++) {
               const start = path.points[i];
               const end = path.points[i + 1];
               
               const distance = Math.round(calculateDistance(start.position, end.position) / 10); // í”½ì…€ì„ ë¯¸í„°ë¡œ í™˜ì‚° (ì„ì˜)
               
               const instruction = document.createElement('li');
               instruction.className = 'instruction-item';
               
               if (i === 0) {
                   // ì²« ë²ˆì§¸ êµ¬ê°„ ì•ˆë‚´
                   instruction.textContent = `${start.name}ì—ì„œ ${end.name}ê¹Œì§€ ì§ì§„í•˜ì„¸ìš”. (ì•½ ${distance}m)`;
               } else {
                   // ì¤‘ê°„ êµ¬ê°„ ì•ˆë‚´
                   instruction.textContent = `${start.name}ì—ì„œ ${end.name}ê¹Œì§€ ì´ë™í•˜ì„¸ìš”. (ì•½ ${distance}m)`;
               }
               
               instructionsList.appendChild(instruction);
           }
           
           // ë§ˆì§€ë§‰ ì•ˆë‚´ (ë„ì°©)
           const lastInstruction = document.createElement('li');
           lastInstruction.className = 'instruction-item';
           lastInstruction.textContent = `${path.points[path.points.length - 1].name}ì— ë„ì°©í–ˆìŠµë‹ˆë‹¤.`;
           instructionsList.appendChild(lastInstruction);
           
           // ì•ˆë‚´ í‘œì‹œ
           instructionsContainer.style.display = 'block';
       }
       
       // ì§€ë„ ì¤Œì¸
       function zoomIn() {
           if (naverMap) {
               const currentZoom = naverMap.getZoom();
               naverMap.setZoom(currentZoom + 1);
           }
       }
       
       // ì§€ë„ ì¤Œì•„ì›ƒ
       function zoomOut() {
           if (naverMap) {
               const currentZoom = naverMap.getZoom();
               naverMap.setZoom(currentZoom - 1);
           }
       }
       
       // ì§€ë„ ì´ˆê¸° ë·°ë¡œ ë¦¬ì…‹
       function resetMapView() {
           if (naverMap) {
               naverMap.setCenter(new naver.maps.LatLng(37.39661657434427, 126.90772437800818));
               naverMap.setZoom(16);
               
               // ëª¨ë“  ì •ë³´ì°½ ë‹«ê¸°
               infoWindows.forEach(window => window.close());
           }
       }
       
       // ê±´ë¬¼ ì‹œì„¤ ê²€ìƒ‰ ê¸°ëŠ¥
       function searchFacilities(query) {
           const searchResults = document.getElementById('search-results');
           const noResults = document.getElementById('no-results');
           const originalContent = document.getElementById('original-content');
           
           // ê²€ìƒ‰ì–´ê°€ ë¹„ì–´ìˆìœ¼ë©´ ì›ë˜ ì½˜í…ì¸  í‘œì‹œ
           if (!query.trim()) {
               searchResults.style.display = 'none';
               noResults.style.display = 'none';
               originalContent.style.display = 'block';
               return;
           }
           
           // ê²€ìƒ‰ì–´ë¥¼ í¬í•¨í•˜ëŠ” ê±´ë¬¼/ì‹œì„¤ë§Œ í•„í„°ë§ (ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´)
           const lowercaseQuery = query.toLowerCase();
           
           // ëª¨ë“  ì‹œì„¤ ë°ì´í„° (ê±´ë¬¼ + í¸ì˜ì‹œì„¤)
           const allFacilities = [...buildingData, ...facilityData];
           
           // ê°•ì˜ì‹¤ ê²€ìƒ‰ì„ ìœ„í•œ ì „ì²´ ê°•ì˜ì‹¤ ëª©ë¡ ìƒì„±
           let allClassrooms = [];
           for (const buildingId in classroomData) {
               for (const floor in classroomData[buildingId]) {
                   classroomData[buildingId][floor].forEach(classroom => {
                       allClassrooms.push({
                           id: classroom.id,
                           name: classroom.name,
                           type: classroom.type,
                           buildingId: buildingId,
                           floor: floor,
                           description: `${buildingId} ${floor}ì¸µ - ${classroom.type}`
                       });
                   });
               }
           }
           
           // ê±´ë¬¼, í¸ì˜ì‹œì„¤, ê°•ì˜ì‹¤ ê²€ìƒ‰
           const filteredFacilities = allFacilities.filter(facility => 
               facility.name.toLowerCase().includes(lowercaseQuery) || 
               facility.description.toLowerCase().includes(lowercaseQuery)
           );
           
           const filteredClassrooms = allClassrooms.filter(classroom => 
               classroom.id.toLowerCase().includes(lowercaseQuery) || 
               classroom.name.toLowerCase().includes(lowercaseQuery) || 
               classroom.description.toLowerCase().includes(lowercaseQuery)
           );
           
           // ê²€ìƒ‰ ê²°ê³¼ ì—…ë°ì´íŠ¸
           searchResults.innerHTML = '';
           
           if (filteredFacilities.length > 0 || filteredClassrooms.length > 0) {
               // ê²€ìƒ‰ ê²°ê³¼ê°€ ìˆìœ¼ë©´ í‘œì‹œ
               const resultsList = document.createElement('ul');
               resultsList.className = 'building-list';
               
               // ê±´ë¬¼ ë° í¸ì˜ì‹œì„¤ ê²°ê³¼
               filteredFacilities.forEach(facility => {
                   const listItem = document.createElement('li');
                   listItem.className = 'building-item';
                   listItem.onclick = function() { 
                       if (facility.type === 'building') {
                           viewIndoorMap(facility.id);
                       } else {
                           showFacilityDetail(facility.id);
                       }
                   };
                   
                   listItem.innerHTML = `
                       <div class="building-image">
                           <img src="${facility.image}" alt="${facility.name}">
                       </div>
                       <div class="building-info-container">
                           <div class="building-info">
                               <div class="building-name">${facility.name}</div>
                               <div class="building-description">${facility.description}</div>
                           </div>
                           <div class="building-nav-button" onclick="navigateToFacility('${facility.id}', '${facility.type}', event)">
                               <span>ê¸¸ì°¾ê¸°</span>
                               <span>ğŸ§­</span>
                           </div>
                       </div>
                   `;
                   
                   resultsList.appendChild(listItem);
               });
               
               // ê°•ì˜ì‹¤ ê²°ê³¼
               filteredClassrooms.forEach(classroom => {
                   const listItem = document.createElement('li');
                   listItem.className = 'building-item';
                   listItem.onclick = function() { 
                       navigateToClassroom(classroom.buildingId, classroom.floor, classroom.id);
                   };
                   
                   listItem.innerHTML = `
                       <div class="building-image">
                           <div style="display: flex; justify-content: center; align-items: center; width: 100%; height: 100%; font-size: 24px;">ğŸšª</div>
                       </div>
                       <div class="building-info-container">
                           <div class="building-info">
                               <div class="building-name">${classroom.name} (${classroom.id})</div>
                               <div class="building-description">${classroom.description}</div>
                           </div>
                           <div class="building-nav-button" onclick="navigateToClassroom('${classroom.buildingId}', '${classroom.floor}', '${classroom.id}', event)">
                               <span>ê¸¸ì°¾ê¸°</span>
                               <span>ğŸ§­</span>
                           </div>
                       </div>
                   `;
                   
                   resultsList.appendChild(listItem);
               });
               
               searchResults.appendChild(resultsList);
               searchResults.style.display = 'block';
               noResults.style.display = 'none';
               originalContent.style.display = 'none';
           } else {
               // ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìœ¼ë©´ ë©”ì‹œì§€ í‘œì‹œ
               searchResults.style.display = 'none';
               noResults.style.display = 'block';
               originalContent.style.display = 'none';
           }
       }
       
       // ê°•ì˜ì‹¤ë¡œ ê¸¸ì°¾ê¸° í•¨ìˆ˜
       function navigateToClassroom(buildingId, floor, classroomId, event) {
           // ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë°©ì§€
           if (event) {
               event.stopPropagation();
           }
           
           // ê±´ë¬¼ ë‚´ë¶€ ì§€ë„ ë³´ê¸°ë¡œ ì´ë™
           viewIndoorMap(buildingId);
           
           // ì¸µ ì„ íƒ
           loadFloorMap(buildingId, parseInt(floor));
           
           // ê°•ì˜ì‹¤ ê¸¸ì°¾ê¸° ì„¤ì •
           setTimeout(() => {
               const endPointSelect = document.getElementById('end-point');
               if (endPointSelect) {
                   endPointSelect.value = classroomId;
                   findPath();
               }
           }, 500);
       }
       
       // ê±´ë¬¼ ìƒì„¸ ë³´ê¸°
       function showBuildingDetail(buildingId) {
           viewIndoorMap(buildingId);
       }
       
       // í¸ì˜ ì‹œì„¤ ìƒì„¸ ë³´ê¸°
       function showFacilityDetail(facilityId) {
           alert(`${facilityId} ì‹œì„¤ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.`);
       }
       
       // ê³µì§€ì‚¬í•­ í•„í„°ë§
       function filterNotices(category) {
           // ì¹´í…Œê³ ë¦¬ íƒœê·¸ í™œì„±í™” ìƒíƒœ ë³€ê²½
           document.querySelectorAll('.category-tag').forEach(tag => {
               tag.classList.remove('active');
           });

           // ì„ íƒëœ ì¹´í…Œê³ ë¦¬ í™œì„±í™”
           document.querySelectorAll('.category-tag').forEach(tag => {
               if (tag.textContent.toLowerCase().includes(category) || 
               (category === 'all' && tag.textContent === 'ì „ì²´')) {
                   tag.classList.add('active');
               }
           });
       }

       // ê°•ì˜ í•„í„°ë§
       function filterLectures(category) {
           // ì¹´í…Œê³ ë¦¬ íƒœê·¸ í™œì„±í™” ìƒíƒœ ë³€ê²½
           const communityTab = document.getElementById('community-tab');
           communityTab.querySelectorAll('.category-tag').forEach(tag => {
               tag.classList.remove('active');
           });

           // ì„ íƒëœ ì¹´í…Œê³ ë¦¬ í™œì„±í™”
           communityTab.querySelectorAll('.category-tag').forEach(tag => {
               if (tag.textContent.toLowerCase().includes(category) || 
                   (category === 'all' && tag.textContent === 'ì „ì²´')) {
                   tag.classList.add('active');
               }
           });
       }
       
       // ë©”ì¸ í™ˆìœ¼ë¡œ ì´ë™
       function goToHome() {
           switchTab('home');
           window.scrollTo({ top: 0, behavior: 'smooth' });
       }
       
       // ì‹œì„¤ë¡œ ê¸¸ì°¾ê¸° (ê±´ë¬¼ ë˜ëŠ” í¸ì˜ì‹œì„¤)
       function navigateToFacility(facilityId, facilityType, event) {
           // ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë°©ì§€
           if (event) {
               event.stopPropagation();
           }
           
           if (facilityType === 'building') {
               // ê±´ë¬¼ ê¸¸ì°¾ê¸°
               viewIndoorMap(facilityId);
           } else {
               // í¸ì˜ì‹œì„¤ ê¸¸ì°¾ê¸°
               const facility = facilityData.find(f => f.id === facilityId);
               
               if (facility) {
                   alert(`${facility.name}ìœ¼ë¡œ ê¸¸ì°¾ê¸°ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.`);
                   
                   // ì§€ë„ë¥¼ í‘œì‹œí•˜ê³  í•´ë‹¹ ì‹œì„¤ë¡œ ì´ë™
                   switchTab('facility');
                   
                   // ì§€ë„ê°€ ì´ˆê¸°í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸
                   if (naverMap) {
                       // ì‹œì„¤ ìœ„ì¹˜ë¡œ ì§€ë„ ì¤‘ì‹¬ ì´ë™
                       const position = new naver.maps.LatLng(facility.position.lat, facility.position.lng);
                       naverMap.setCenter(position);
                       naverMap.setZoom(18); // ë” ê°€ê¹ê²Œ ì¤Œì¸
                   }
               }
           }
       }
       
       // ê³µì§€ì‚¬í•­ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
       function goToNoticeDetail(noticeId) {
           alert(`ê³µì§€ì‚¬í•­ ID: ${noticeId} ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
       }
       
       // ê°•ì˜ ìƒì„¸ ë³´ê¸°
       function viewLectureDetail(lectureId) {
           alert(`ê°•ì˜ ${lectureId} ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
       }
       
       // ì•Œë¦¼ ìƒì„¸ ë³´ê¸°
       function viewNotification(notificationId) {
           alert(`${notificationId} ì•Œë¦¼ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•©ë‹ˆë‹¤.`);
       }
       
       // ê²€ìƒ‰ í‚¤ ì…ë ¥ ì²˜ë¦¬
       function handleSearchKeyPress(event) {
           if (event.key === 'Enter') {
               const searchTerm = event.target.value.trim();
               if (searchTerm) {
                   alert(`'${searchTerm}'ì— ëŒ€í•œ ê²€ìƒ‰ì„ ì‹œì‘í•©ë‹ˆë‹¤.`);
               }
           }
       }
       
       // í˜ì´ì§€ ì´ë™ í•¨ìˆ˜
       function goToPage(pageName) {
           alert(`${pageName} í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
       }
       
       // í”„ë¡œí•„ í˜ì´ì§€ ì´ë™ í•¨ìˆ˜
       function navigateToProfilePage(pageName) {
           alert(`ë‚´ ì •ë³´ > ${pageName} í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
       }
       
       // ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
       function logout() {
           if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
               alert('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.');
           }
       }
       
       // íšŒì› íƒˆí‡´ í•¨ìˆ˜
       function deleteAccount() {
           if (confirm('ì •ë§ íšŒì› íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ëª¨ë“  ê³„ì • ì •ë³´ê°€ ì‚­ì œë©ë‹ˆë‹¤.')) {
               alert('íšŒì› íƒˆí‡´ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
           }
       }
       
       // ëª¨ë“  ì„¤ì • ì´ˆê¸°í™” í•¨ìˆ˜
       function resetAllSettings() {
           if (confirm('ëª¨ë“  ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì„¤ì •ëœ ìœ„ì ¯, ë©”ë‰´, ê°œì¸í™” ì˜µì…˜ì´ ëª¨ë‘ ê¸°ë³¸ê°’ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.')) {
               alert('ëª¨ë“  ì„¤ì •ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ì•±ì„ ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤.');
           }
       }
       
       // í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ í† ê¸€ í•¨ìˆ˜
       function toggleProfileDropdown() {
           const dropdown = document.querySelector('.profile-dropdown');
           dropdown.classList.toggle('active');
       }
   </script>
</body>
</html>