<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>연성대학교 캠퍼스 가이드</title>
   <!-- 네이버 지도 API 스크립트 추가 - Direction 서브모듈 포함 -->
   <script
   src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=5qggqdvx3j&submodules=direction"
   defer>
   </script>
   <!-- CSS 파일 연결 -->
   <link rel="stylesheet" href="index.css">
</head>
<body>
   <!-- 버전 전환 버튼 -->
   <button class="version-toggle" onclick="toggleVersion()">
       <span class="version-text">모바일 버전</span>
   </button>

   <!-- 웹 브라우저 컨테이너 -->
   <div class="browser-container" id="browser-view">
       <!-- 브라우저 헤더 -->
       <header class="browser-header">
           <div class="browser-logo" onclick="goToHome()">
               <span>🏫</span>
               연성대학교 캠퍼스 가이드
           </div>
           <nav class="browser-nav">
               <div class="nav-item active" onclick="showBrowserTab('home')">홈</div>
               <div class="nav-item" onclick="showBrowserTab('facility')">시설안내</div>
               <div class="nav-item" onclick="showBrowserTab('community')">커뮤니티</div>
               <div class="nav-item" onclick="showBrowserTab('activities')">교내활동</div>
               <div class="nav-item" onclick="showBrowserTab('schedule')">학사일정</div>
           </nav>
           <div class="browser-auth">
               <a href="#" class="login-button" onclick="goToPage('login')">로그인</a>
               <div class="profile-dropdown-container" style="display: none;">
                   <div class="header-profile-image" onclick="toggleProfileDropdown()">
                       <img id="headerProfileImg" src="" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;" alt="프로필">
                   </div>
                   <div class="profile-dropdown">
                       <div class="dropdown-profile-info">
                           <div class="dropdown-profile-name">사용자</div>
                           <div class="dropdown-profile-detail">학과 | 학년</div>
                           <div class="dropdown-profile-detail">학번: 0000000000</div>
                       </div>
                       <div class="dropdown-divider"></div>
                       <div class="dropdown-item" onclick="goToPage('profile-edit')">
                           <span class="dropdown-icon">✏️</span>
                           <span>프로필 수정</span>
                        </div>
                        <div class="dropdown-item" onclick="logout()">
                            <span class="dropdown-icon">🚪</span>
                            <span>로그아웃</span>
                        </div>
                   </div>
               </div>
           </div>
       </header>

       <!-- 브라우저 메인 콘텐츠 -->
       <main class="browser-main">
           <!-- 홈 탭 (웹 버전) -->
           <div id="browser-home-tab" class="browser-tab-content active">
               <div class="browser-content-grid">
                   <!-- 왼쪽 컬럼 -->
                   <div class="left-column">
                       <!-- 긴급 알림 배너 -->
                       <div class="notification-banner" onclick="viewNotification('emergency')">
                           <span class="urgent-icon">📢</span>
                           <span class="notification-text">긴급 공지: 내일(4/9) 대학 전체 휴강 안내 - 시설 점검으로 인한 단수</span>
                       </div>
                       
                       <!-- 검색 바 -->
                       <div class="search-bar">
                           <input type="text" class="search-input" placeholder="강의실, 공지사항, 교수님 검색" onkeypress="handleSearchKeyPress(event)">
                       </div>
                       
                       <!-- 바로가기 메뉴 -->
                       <div class="shortcut-menu">
                           <div class="shortcut-item" onclick="goToPage('activities')">
                               <div class="shortcut-icon">🌟</div>
                               <div class="shortcut-text">교내/대외활동</div>
                           </div>
                           <div class="shortcut-item" onclick="switchTab('community')">
                               <div class="shortcut-icon">📝</div>
                               <div class="shortcut-text">강의평가</div>
                           </div>
                            <div class="shortcut-item" onclick="window.location.href='shuttle_bus_tracker.html'">
                                <div class="shortcut-icon">🚌</div>
                                <div class="shortcut-text">셔틀버스</div>
                            </div>
                           <div class="shortcut-item" onclick="goToPage('everytime-board')">
                               <div class="shortcut-icon">💬</div>
                               <div class="shortcut-text">커뮤니티</div>
                           </div>
                           <div class="shortcut-item" onclick="goToPage('academic-calendar')">
                               <div class="shortcut-icon">📅</div>
                               <div class="shortcut-text">학사일정</div>
                           </div>
                        </div>
                       
                        <!-- 오늘의 시간표 -->
                        <div class="timetable-preview">
                            <div class="timetable-header">
                                <div class="timetable-date">2025년 4월 8일 (월) 시간표</div>
                                <div class="timetable-now">현재 강의</div>
                            </div>
                            <div id="timetable-preview-content">
                                <!-- 동적으로 생성될 수업 내용 -->
                            </div>
                        </div>
                       
                        <!-- 교내/대외활동 현황 -->
                        <div class="activity-summary-card">
                            <div class="activity-summary-header">
                                <div class="activity-summary-title">🌟 교내/대외활동 현황</div>
                                <div class="activity-summary-time">실시간 업데이트</div>
                            </div>
                            <div class="activity-summary-grid">
                                <div class="activity-stat-item">
                                    <div class="activity-stat-icon">🏆</div>
                                    <div class="activity-stat-info">
                                        <div class="activity-stat-number">12</div>
                                        <div class="activity-stat-label">진행 중인 공모전</div>
                                    </div>
                                </div>
                                <div class="activity-stat-item">
                                    <div class="activity-stat-icon">👥</div>
                                    <div class="activity-stat-info">
                                        <div class="activity-stat-number">8</div>
                                        <div class="activity-stat-label">신입 모집 동아리</div>
                                    </div>
                                </div>
                                <div class="activity-stat-item">
                                    <div class="activity-stat-icon">🌟</div>
                                    <div class="activity-stat-info">
                                        <div class="activity-stat-number">15</div>
                                        <div class="activity-stat-label">대외활동 기회</div>
                                    </div>
                                </div>
                            </div>
                            <div class="activity-summary-notices">
                                <div class="activity-notice-item">
                                    <span class="activity-notice-icon">⏰</span>
                                    <span class="activity-notice-text">창업 아이디어 경진대회 마감 22일 남음</span>
                                </div>
                                <div class="activity-notice-item">
                                    <span class="activity-notice-icon">🎵</span>
                                    <span class="activity-notice-text">밴드 동아리 ECHO 오디션 이번 주</span>
                                </div>
                            </div>
                         </div>
                   </div>

                   <!-- 오른쪽 컬럼 -->
                   <div class="right-column">
                       <!-- 다음 셔틀버스 -->
                       <div class="shuttle-card">
                           <div class="shuttle-header">
                               <div class="shuttle-title">다음 셔틀버스</div>
                               <div class="shuttle-icon">🚌</div>
                           </div>
                           
                           <!-- 노선 선택 탭 -->
                           <div class="shuttle-route-tabs">
                               <button class="route-tab active" onclick="selectShuttleRoute(1)" data-route="1">
                                   <span class="route-name">노선 1</span>
                                   <span class="route-desc">인천 남동구, 시흥시</span>
                               </button>
                               <button class="route-tab" onclick="selectShuttleRoute(2)" data-route="2">
                                   <span class="route-name">노선 2</span>
                                   <span class="route-desc">시화지역, 장현지구</span>
                               </button>
                               <button class="route-tab" onclick="selectShuttleRoute(3)" data-route="3">
                                   <span class="route-name">노선 3</span>
                                   <span class="route-desc">서울 목동</span>
                               </button>
                           </div>
                           
                           <!-- 다음 버스 정보 -->
                           <div class="shuttle-next-info">
                               <div class="next-bus-main">
                                   <div class="shuttle-time">15분 후 출발</div>
                                   <div class="shuttle-desc">학교 → 안양역 경유 (14:30)</div>
                               </div>
                               <div class="shuttle-status">
                                   <span class="status-badge running">운행 중</span>
                               </div>
                           </div>
                           
                           <!-- 운행 시간표 -->
                           <div class="shuttle-schedule">
                               <div class="schedule-header">오늘의 운행 시간</div>
                               <div class="shuttle-time-slots">
                                   <div class="time-slot">
                                       <div class="time-period">오전</div>
                                       <div class="time-range">08:30~10:50</div>
                                       <div class="time-interval">6분 간격</div>
                                   </div>
                                   <div class="time-slot">
                                       <div class="time-period">점심</div>
                                       <div class="time-range">12:00~13:20</div>
                                       <div class="time-interval">10분 간격</div>
                                   </div>
                                   <div class="time-slot">
                                       <div class="time-period">오후</div>
                                       <div class="time-range">16:55~17:45</div>
                                       <div class="time-interval">5분 간격</div>
                                   </div>
                               </div>
                           </div>
                           
                           <!-- 다음 운행 시간들 -->
                           <div class="shuttle-upcoming">
                               <div class="upcoming-header">다음 운행 시간</div>
                               <div class="shuttle-time-list">
                                   <div class="shuttle-time-item">
                                       <div class="time-value">15:00</div>
                                       <div class="time-label">5분 후</div>
                                   </div>
                                   <div class="shuttle-time-item">
                                       <div class="time-value">15:05</div>
                                       <div class="time-label">10분 후</div>
                                   </div>
                                   <div class="shuttle-time-item">
                                       <div class="time-value">15:10</div>
                                       <div class="time-label">15분 후</div>
                                   </div>
                               </div>
                           </div>
                       </div>

                       <!-- 학사 일정 -->
                       <div class="calendar-card">
                            <div class="section-title">
                                <span>다가오는 학사일정</span>
                                <a href="academic-calendar.html" class="see-all" onclick="goToPage('academic-calendar')">전체보기</a>
                            </div>
                            <ul class="calendar-list">
                                <!-- 동적으로 생성될 학사일정 목록 -->
                            </ul>
                        </div>

                        <!-- 인기 맛집 할인 정보 -->
                        <div class="student-deals-card">
                        <div class="everytime-header">
                            <div class="everytime-title">🍽️ 인기 맛집 할인 정보</div>
                            <a href="student-deals.html" class="everytime-view-all">전체보기</a>
                        </div>
                        <div id="popular-restaurants-list">
                            <!-- 여기에 동적으로 맛집 목록이 추가됩니다 -->
                            <!-- 로딩 표시 -->
                            <div class="popular-restaurant-item loading">
                                <div class="restaurant-image skeleton"></div>
                                <div class="restaurant-content">
                                    <div class="restaurant-category skeleton"></div>
                                    <div class="restaurant-name skeleton"></div>
                                    <div class="restaurant-location skeleton"></div>
                                    <div class="restaurant-discount skeleton"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                   </div>
               </div>

               <!-- 하단 공지사항 섹션 (전체 너비) -->
               <div class="content-section">
                   <div class="section-title">
                       <span>주요 공지사항</span>
                       <a href="#" class="see-all" onclick="goToPage('notices')">전체보기</a>
                   </div>
                   
                   <div class="category-filter">
                       <div class="category-tag active" onclick="filterNotices('all')">전체</div>
                       <div class="category-tag" onclick="filterNotices('academic')">학사</div>
                       <div class="category-tag" onclick="filterNotices('scholarship')">장학</div>
                       <div class="category-tag" onclick="filterNotices('job')">취업</div>
                       <div class="category-tag" onclick="filterNotices('event')">행사</div>
                       <div class="category-tag" onclick="filterNotices('department')">학과</div>
                   </div>
                   
                   <ul class="notice-list">
                       <!-- 알림창 없이 공지사항 상세 페이지로 바로 이동하도록 수정 -->
                       <li class="notice-item" onclick="goToNoticeDetail('notice1')">
                           <div class="notice-header">
                               <span class="notice-category">학사</span>
                               <span class="notice-date">2025.04.08</span>
                           </div>
                           <div class="notice-title">2025학년도 1학기 중간고사 일정 안내</div>
                           <div class="notice-summary">
                               4월 22일(월)부터 4월 26일(금)까지 중간고사가 진행됩니다. 자세한 시간표는 학과 사무실에서 확인하세요.
                           </div>
                       </li>
                       <li class="notice-item" onclick="goToNoticeDetail('notice2')">
                           <div class="notice-header">
                               <span class="notice-category">장학</span>
                               <span class="notice-date">2025.04.07</span>
                           </div>
                           <div class="notice-title">국가장학금 2차 신청 마감 안내</div>
                           <div class="notice-summary">
                               국가장학금 2차 신청이 이번 주 금요일(4/11)에 마감됩니다. 아직 신청하지 않은 학생들은 서둘러 신청해주세요.
                           </div>
                       </li>
                       <li class="notice-item" onclick="goToNoticeDetail('notice3')">
                           <div class="notice-header">
                               <span class="notice-category">취업</span>
                               <span class="notice-date">2025.04.06</span>
                           </div>
                           <div class="notice-title">삼성전자 대규모 채용설명회 개최 안내</div>
                           <div class="notice-summary">
                               4월 15일(화) 오후 2시 대강당에서 삼성전자 채용설명회가 진행됩니다. 참석을 원하는 학생은 사전 신청 바랍니다.
                           </div>
                       </li>
                   </ul>
               </div>
           </div>

           <!-- 시설 탭 (웹 버전) -->
           <div id="browser-facility-tab" class="browser-tab-content">
               <!-- 검색 바 - 새로운 구조로 변경 -->
               <div class="search-bar">
                   <div class="search-container">
                       <input type="text" id="facility-search-input" class="search-input" placeholder="건물, 강의실, 편의시설 검색" oninput="searchFacilities(this.value)">
                       <button class="search-clear" onclick="clearSearch()">✕</button>
                   </div>
               </div>
               
               <!-- 빠른 검색 버튼 영역 -->
               <div class="quick-search-buttons">
                   <div class="section-title" style="margin-top: 12px; margin-left: 16px; margin-right: 16px;">
                       <span>빠른 검색</span>
                   </div>
                   <div style="display: flex; overflow-x: auto; padding: 0 16px 12px 16px; gap: 8px;">
                       <button class="category-tag" onclick="quickSearch('강의실')">강의실</button>
                       <button class="category-tag" onclick="quickSearch('학생')">학생시설</button>
                       <button class="category-tag" onclick="quickSearch('식당')">식당/카페</button>
                       <button class="category-tag" onclick="quickSearch('도서관')">도서관</button>
                       <button class="category-tag" onclick="quickSearch('공학')">공학계열</button>
                   </div>
               </div>
               
               <!-- 검색 결과를 표시할 컨테이너 추가 -->
               <div id="search-results" class="search-results" style="display: none;">
                   <!-- 검색 결과가 여기에 동적으로 추가됩니다 -->
               </div>
               
               <!-- 검색 결과가 없을 때 표시될 내용 -->
               <div id="no-results" class="no-results" style="display: none;">
                   검색 결과가 없습니다.
               </div>
               
               <!-- 원래 내용은 검색 결과가 없을 때만 표시 -->
               <div id="original-content">
                   <!-- 네이버 지도로 대체된 캠퍼스 맵 -->
                   <div class="campus-map" id="naverMap">
                       <!-- 지도가 로드되기 전에 표시할 이미지 삭제 -->
                       <!-- <img src="/api/placeholder/400/250" alt="연성대학교 캠퍼스 지도"> -->
                       <div class="map-control-buttons">
                           <div class="map-button" onclick="zoomIn()">🔍+</div>
                           <div class="map-button" onclick="zoomOut()">🔍-</div>
                           <div class="map-button" onclick="resetMapView()">🏠</div>
                       </div>

                       <!-- 여기에 GPS 버튼 추가 -->
                       <div class="gps-button" onclick="trackUserLocation()">📍</div>
                       
                       <!-- 경로 정보 로딩 인디케이터 -->
                       <div class="route-loading" id="routeLoading">
                           <span>🔄</span>
                           <span class="route-loading-text">경로를 계산하는 중...</span>
                       </div>
                       
                       <!-- 경로 정보 박스 -->
                       <div class="route-info-box" id="routeInfoBox">
                           <span class="route-info-close" onclick="closeRouteInfo()">✕</span>
                           <div class="route-info-title">목적지: <span id="routeDestination"></span></div>
                           <div class="route-info-detail">
                               <div>거리: <span id="routeDistance"></span></div>
                               <div>예상 소요시간: <span id="routeDuration"></span></div>
                           </div>
                       </div>
                   </div>
                   
                   <div class="content-section">
                       <div class="section-title">
                           <span>주요 건물</span>
                       </div>
                       
                       <ul class="building-list">
                           <!-- 건물 항목들이 JavaScript로 동적 생성됩니다 -->
                       </ul>
                       
                       <!-- 페이지네이션 컨트롤 추가 -->
                       <div id="pagination-controls" class="pagination-controls">
                           <!-- 페이지 버튼들이 JavaScript로 동적 생성됩니다 -->
                       </div>
                   </div>
                   
                   <div class="content-section">
                       <div class="section-title">
                           <span>편의시설</span>
                       </div>
                       
                       <div class="facility-list">
                           <div class="facility-item" onclick="showFacilityDetail('cafeteria')">
                               <div class="facility-image">
                                   <img src="https://placehold.co/150x100/gray/white?text=학생식당" alt="학생식당">
                               </div>
                               <div class="facility-info">
                                   <div class="facility-name">학생식당</div>
                                   <div class="facility-location">학생복지센터 2층</div>
                               </div>
                           </div>
                           <div class="facility-item" onclick="showFacilityDetail('cafe')">
                               <div class="facility-image">
                                   <img src="https://placehold.co/150x100/gray/white?text=카페" alt="카페">
                               </div>
                               <div class="facility-info">
                                   <div class="facility-name">카페 연성</div>
                                   <div class="facility-location">문화1관 1층</div>
                               </div>
                           </div>
                           <div class="facility-item" onclick="showFacilityDetail('convenience')">
                               <div class="facility-image">
                                   <img src="https://placehold.co/150x100/gray/white?text=편의점" alt="편의점">
                               </div>
                               <div class="facility-info">
                                   <div class="facility-name">CU 편의점</div>
                                   <div class="facility-location">학생복지센터 1층</div>
                               </div>
                           </div>
                           <div class="facility-item" onclick="showFacilityDetail('atm')">
                               <div class="facility-image">
                                   <img src="https://placehold.co/150x100/gray/white?text=ATM" alt="ATM">
                               </div>
                               <div class="facility-info">
                                   <div class="facility-name">ATM</div>
                                   <div class="facility-location">학생복지센터 1층</div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>

           <!-- 커뮤니티 탭 (웹 버전) -->
           <div id="browser-community-tab" class="browser-tab-content">
               <div class="search-bar">
                   <input type="text" class="search-input" placeholder="강의평가 검색" onkeypress="handleSearchKeyPress(event)">
               </div>
               
               <!-- 실시간 커뮤니티 (에브리타임 스타일) -->
               <div class="everytime-community-card">
                   <div class="everytime-header">
                       <div class="everytime-title">💬 실시간 커뮤니티</div>
                       <div class="everytime-view-all" onclick="goToPage('everytime-board')">게시판</div>
                   </div>
                   <div class="community-posts">
                       <div class="post-item">
                           <div class="post-board">[자유게시판]</div>
                           <div class="post-content">
                               <div class="post-title">중간고사 스터디 그룹 모집해요!</div>
                               <div class="post-preview">웹프, 마케팅 같이 공부할 분들 찾습니다. 카톡 주세요 ㅠㅠ</div>
                               <div class="post-meta">
                                   <span class="post-time">3분 전</span>
                                   <span class="post-stats">👍 12 💬 8</span>
                               </div>
                           </div>
                       </div>
                       <div class="post-item">
                           <div class="post-board">[정보게시판]</div>
                           <div class="post-content">
                               <div class="post-title">김민수 교수님 수업 꿀팁 공유</div>
                               <div class="post-preview">과제 미리 준비하면 중간고사 때 편해요. 특히 포트폴리오는...</div>
                               <div class="post-meta">
                                   <span class="post-time">12분 전</span>
                                   <span class="post-stats">👍 24 💬 15</span>
                               </div>
                           </div>
                       </div>
                       <div class="post-item">
                           <div class="post-board">[취업게시판]</div>
                           <div class="post-content">
                               <div class="post-title">삼성전자 채용설명회 후기</div>
                               <div class="post-preview">어제 참가했는데 생각보다 경쟁률이 높더라고요. 준비 팁 공유합니다.</div>
                               <div class="post-meta">
                                   <span class="post-time">32분 전</span>
                                   <span class="post-stats">👍 45 💬 23</span>
                               </div>
                           </div>
                       </div>
                       <div class="post-item">
                           <div class="post-board">[강의평가]</div>
                           <div class="post-content">
                               <div class="post-title">이지영 교수님 마케팅 원론 후기</div>
                               <div class="post-preview">진짜 꿀강의! 실무 사례가 많아서 재미있어요. 추천!</div>
                               <div class="post-meta">
                                   <span class="post-time">1시간 전</span>
                                   <span class="post-stats">👍 18 💬 6</span>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
               
               <!-- 인기 강의평가 섹션 (메인 페이지에서 이동됨) -->
               <div class="content-section">
                   <div class="section-title">
                       <span>인기 강의평가</span>
                   </div>
                   
                   <div class="category-filter">
                       <div class="category-tag active" onclick="filterLectures('all')">전체</div>
                       <div class="category-tag" onclick="filterLectures('general')">교양</div>
                       <div class="category-tag" onclick="filterLectures('required')">전공필수</div>
                       <div class="category-tag" onclick="filterLectures('optional')">전공선택</div>
                   </div>
                   
                   <ul class="lecture-list">
                       <li class="lecture-item" onclick="viewLectureDetail('web-programming')">
                           <div class="lecture-header">
                               <div class="lecture-title">웹 프로그래밍 실습</div>
                               <div class="lecture-rating">4.8</div>
                           </div>
                           <div class="lecture-info">
                               <span class="lecture-professor">김민수 교수님</span>
                               <span>컴퓨터정보학과</span>
                           </div>
                           <div class="rating-stars">★★★★★</div>
                           <div class="lecture-reviews">
                               "과제는 많지만 실력이 확실히 늘어요! 취업에 큰 도움이 됩니다."
                           </div>
                       </li>
                       <li class="lecture-item" onclick="viewLectureDetail('marketing')">
                           <div class="lecture-header">
                               <div class="lecture-title">마케팅 원론</div>
                               <div class="lecture-rating">4.5</div>
                           </div>
                           <div class="lecture-info">
                               <span class="lecture-professor">이지영 교수님</span>
                               <span>경영학과</span>
                           </div>
                           <div class="rating-stars">★★★★☆</div>
                           <div class="lecture-reviews">
                               "실제 사례를 많이 다루어서 이해하기 쉽고 재미있어요."
                           </div>
                       </li>
                       <li class="lecture-item" onclick="viewLectureDetail('english')">
                           <div class="lecture-header">
                               <div class="lecture-title">영어회화</div>
                               <div class="lecture-rating">4.3</div>
                           </div>
                           <div class="lecture-info">
                               <span class="lecture-professor">John Smith 교수님</span>
                               <span>교양과정</span>
                           </div>
                           <div class="rating-stars">★★★★☆</div>
                           <div class="lecture-reviews">
                               "원어민 교수님과 실제 대화를 많이 할 수 있어서 좋아요."
                           </div>
                       </li>
                       <li class="lecture-item" onclick="viewLectureDetail('statistics')">
                           <div class="lecture-header">
                               <div class="lecture-title">경영통계학</div>
                               <div class="lecture-rating">3.7</div>
                           </div>
                           <div class="lecture-info">
                               <span class="lecture-professor">박성호 교수님</span>
                               <span>경영학과</span>
                           </div>
                           <div class="rating-stars">★★★☆☆</div>
                           <div class="lecture-reviews">
                               "내용이 어렵지만 설명을 잘 해주세요. 시험은 까다로운 편."
                           </div>
                       </li>
                   </ul>
               </div>
           </div>

           <!-- 교내활동 탭 (웹 버전) -->
           <div id="browser-activities-tab" class="browser-tab-content">
               <div class="content-section">
                   <div class="section-title">
                       <span>교내/대외활동</span>
                   </div>
                   <p>교내활동 페이지 콘텐츠가 여기에 표시됩니다.</p>
               </div>
           </div>

           <!-- 학사일정 탭 (웹 버전) -->
           <div id="browser-schedule-tab" class="browser-tab-content">
               <div class="content-section">
                   <div class="section-title">
                       <span>학사일정</span>
                   </div>
                   <p>학사일정 페이지 콘텐츠가 여기에 표시됩니다.</p>
               </div>
           </div>
       </main>
   </div>

   <!-- 모바일 앱 컨테이너 (기존 구조 유지) -->
   <div class="mobile-container" id="mobile-view">
       <header>
           <div class="logo" onclick="goToHome()">연성대학교</div>
           <div class="header-icons">
               <!-- 로그인 버튼만 남기고 검색 및 알림 아이콘 제거 -->
               <a href="#" class="login-button" onclick="goToPage('login')">로그인</a>
               <div class="profile-dropdown-container" style="display: none;">
                   <div class="header-profile-image" onclick="toggleProfileDropdown()">
                       <!-- 여기에 프로필 이미지가 들어갑니다 -->
                       <img id="headerProfileImg" src="" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;" alt="프로필">
                   </div>
                   <div class="profile-dropdown">
                       <div class="dropdown-profile-info">
                           <div class="dropdown-profile-name">사용자</div>
                           <div class="dropdown-profile-detail">학과 | 학년</div>
                           <div class="dropdown-profile-detail">학번: 0000000000</div>
                       </div>
                       <div class="dropdown-divider"></div>
                       <div class="dropdown-item" onclick="goToPage('profile-edit')">
                           <span class="dropdown-icon">✏️</span>
                           <span>프로필 수정</span>
                        </div>
                        <div class="dropdown-item" onclick="logout()">
                            <span class="dropdown-icon">🚪</span>
                            <span>로그아웃</span>
                        </div>
                   </div>
               </div>
           </div>
       </header>
               
       <!-- 홈 탭 -->
       <div id="home-tab" class="tab-content active">
           <!-- 긴급 알림 배너 -->
           <div class="notification-banner" onclick="viewNotification('emergency')">
               <span class="urgent-icon">📢</span>
               <span class="notification-text">긴급 공지: 내일(4/9) 대학 전체 휴강 안내 - 시설 점검으로 인한 단수</span>
           </div>
           
           <!-- 검색 바 -->
           <div class="search-bar">
               <input type="text" class="search-input" placeholder="강의실, 공지사항, 교수님 검색" onkeypress="handleSearchKeyPress(event)">
           </div>
           
           <!-- 바로가기 메뉴 -->
           <div class="shortcut-menu">
               <div class="shortcut-item" onclick="goToPage('activities')">
                   <div class="shortcut-icon">🌟</div>
                   <div class="shortcut-text">교내/대외활동</div>
               </div>
               <div class="shortcut-item" onclick="switchTab('community')">
                   <div class="shortcut-icon">📝</div>
                   <div class="shortcut-text">강의평가</div>
               </div>
                <div class="shortcut-item" onclick="window.location.href='shuttle_bus_tracker.html'">
                    <div class="shortcut-icon">🚌</div>
                    <div class="shortcut-text">셔틀버스</div>
                </div>
               <div class="shortcut-item" onclick="goToPage('everytime-board')">
                   <div class="shortcut-icon">💬</div>
                   <div class="shortcut-text">커뮤니티</div>
               </div>
               <div class="shortcut-item" onclick="goToPage('academic-calendar')">
                   <div class="shortcut-icon">📅</div>
                   <div class="shortcut-text">학사일정</div>
               </div>
            </div>
           
            <!-- 오늘의 시간표 -->
            <div class="timetable-preview">
                <div class="timetable-header">
                    <div class="timetable-date">2025년 4월 8일 (월) 시간표</div>
                    <div class="timetable-now">현재 강의</div>
                </div>
                <div id="timetable-preview-content">
                    <!-- 동적으로 생성될 수업 내용 -->
                </div>
            </div>
           
            <!-- 다음 셔틀버스 -->
            <div class="shuttle-card">
                <div class="shuttle-header">
                    <div class="shuttle-title">다음 셔틀버스</div>
                    <div class="shuttle-icon">🚌</div>
                </div>
                
                <!-- 노선 선택 탭 -->
                <div class="shuttle-route-tabs">
                    <button class="route-tab active" onclick="selectShuttleRoute(1)" data-route="1">
                        <span class="route-name">노선 1</span>
                        <span class="route-desc">인천 남동구, 시흥시</span>
                    </button>
                    <button class="route-tab" onclick="selectShuttleRoute(2)" data-route="2">
                        <span class="route-name">노선 2</span>
                        <span class="route-desc">시화지역, 장현지구</span>
                    </button>
                    <button class="route-tab" onclick="selectShuttleRoute(3)" data-route="3">
                        <span class="route-name">노선 3</span>
                        <span class="route-desc">서울 목동</span>
                    </button>
                </div>
                
                <!-- 다음 버스 정보 -->
                <div class="shuttle-next-info">
                    <div class="next-bus-main">
                        <div class="shuttle-time">15분 후 출발</div>
                        <div class="shuttle-desc">학교 → 안양역 경유 (14:30)</div>
                    </div>
                    <div class="shuttle-status">
                        <span class="status-badge running">운행 중</span>
                    </div>
                </div>
                
                <!-- 운행 시간표 -->
                <div class="shuttle-schedule">
                    <div class="schedule-header">오늘의 운행 시간</div>
                    <div class="shuttle-time-slots">
                        <div class="time-slot">
                            <div class="time-period">오전</div>
                            <div class="time-range">08:30~10:50</div>
                            <div class="time-interval">6분 간격</div>
                        </div>
                        <div class="time-slot">
                            <div class="time-period">점심</div>
                            <div class="time-range">12:00~13:20</div>
                            <div class="time-interval">10분 간격</div>
                        </div>
                        <div class="time-slot">
                            <div class="time-period">오후</div>
                            <div class="time-range">16:55~17:45</div>
                            <div class="time-interval">5분 간격</div>
                        </div>
                    </div>
                </div>
                
                <!-- 다음 운행 시간들 -->
                <div class="shuttle-upcoming">
                    <div class="upcoming-header">다음 운행 시간</div>
                    <div class="shuttle-time-list">
                        <div class="shuttle-time-item">
                            <div class="time-value">15:00</div>
                            <div class="time-label">5분 후</div>
                        </div>
                        <div class="shuttle-time-item">
                            <div class="time-value">15:05</div>
                            <div class="time-label">10분 후</div>
                        </div>
                        <div class="shuttle-time-item">
                            <div class="time-value">15:10</div>
                            <div class="time-label">15분 후</div>
                        </div>
                    </div>
                </div>
            </div>
           
           <!-- 교내/대외활동 현황 -->
           <div class="activity-summary-card">
               <div class="activity-summary-header">
                   <div class="activity-summary-title">🌟 교내/대외활동 현황</div>
                   <div class="activity-summary-time">실시간 업데이트</div>
               </div>
               <div class="activity-summary-grid">
                   <div class="activity-stat-item">
                       <div class="activity-stat-icon">🏆</div>
                       <div class="activity-stat-info">
                           <div class="activity-stat-number">12</div>
                           <div class="activity-stat-label">진행 중인 공모전</div>
                       </div>
                   </div>
                   <div class="activity-stat-item">
                       <div class="activity-stat-icon">👥</div>
                       <div class="activity-stat-info">
                           <div class="activity-stat-number">8</div>
                           <div class="activity-stat-label">신입 모집 동아리</div>
                       </div>
                   </div>
                   <div class="activity-stat-item">
                       <div class="activity-stat-icon">🌟</div>
                       <div class="activity-stat-info">
                           <div class="activity-stat-number">15</div>
                           <div class="activity-stat-label">대외활동 기회</div>
                       </div>
                   </div>
               </div>
               <div class="activity-summary-notices">
                   <div class="activity-notice-item">
                       <span class="activity-notice-icon">⏰</span>
                       <span class="activity-notice-text">창업 아이디어 경진대회 마감 22일 남음</span>
                   </div>
                   <div class="activity-notice-item">
                       <span class="activity-notice-icon">🎵</span>
                       <span class="activity-notice-text">밴드 동아리 ECHO 오디션 이번 주</span>
                   </div>
               </div>
            </div>

           <!-- 학사 일정 -->
           <div class="calendar-card">
                <div class="section-title">
                    <span>다가오는 학사일정</span>
                    <a href="academic-calendar.html" class="see-all" onclick="goToPage('academic-calendar')">전체보기</a>
                </div>
                <ul class="calendar-list">
                    <!-- 동적으로 생성될 학사일정 목록 -->
                </ul>
            </div>

            <!-- 인기 맛집 할인 정보 -->
            <div class="student-deals-card">
            <div class="everytime-header">
                <div class="everytime-title">🍽️ 인기 맛집 할인 정보</div>
                <a href="student-deals.html" class="everytime-view-all">전체보기</a>
            </div>
            <div id="popular-restaurants-list">
                <!-- 여기에 동적으로 맛집 목록이 추가됩니다 -->
                <!-- 로딩 표시 -->
                <div class="popular-restaurant-item loading">
                    <div class="restaurant-image skeleton"></div>
                    <div class="restaurant-content">
                        <div class="restaurant-category skeleton"></div>
                        <div class="restaurant-name skeleton"></div>
                        <div class="restaurant-location skeleton"></div>
                        <div class="restaurant-discount skeleton"></div>
                    </div>
                </div>
            </div>
        </div>
           
           <!-- 공지사항 섹션 -->
           <div class="content-section">
               <div class="section-title">
                   <span>주요 공지사항</span>
                   <a href="#" class="see-all" onclick="goToPage('notices')">전체보기</a>
               </div>
               
               <div class="category-filter">
                   <div class="category-tag active" onclick="filterNotices('all')">전체</div>
                   <div class="category-tag" onclick="filterNotices('academic')">학사</div>
                   <div class="category-tag" onclick="filterNotices('scholarship')">장학</div>
                   <div class="category-tag" onclick="filterNotices('job')">취업</div>
                   <div class="category-tag" onclick="filterNotices('event')">행사</div>
                   <div class="category-tag" onclick="filterNotices('department')">학과</div>
               </div>
               
               <ul class="notice-list">
                   <!-- 알림창 없이 공지사항 상세 페이지로 바로 이동하도록 수정 -->
                   <li class="notice-item" onclick="goToNoticeDetail('notice1')">
                       <div class="notice-header">
                           <span class="notice-category">학사</span>
                           <span class="notice-date">2025.04.08</span>
                       </div>
                       <div class="notice-title">2025학년도 1학기 중간고사 일정 안내</div>
                       <div class="notice-summary">
                           4월 22일(월)부터 4월 26일(금)까지 중간고사가 진행됩니다. 자세한 시간표는 학과 사무실에서 확인하세요.
                       </div>
                   </li>
                   <li class="notice-item" onclick="goToNoticeDetail('notice2')">
                       <div class="notice-header">
                           <span class="notice-category">장학</span>
                           <span class="notice-date">2025.04.07</span>
                       </div>
                       <div class="notice-title">국가장학금 2차 신청 마감 안내</div>
                       <div class="notice-summary">
                           국가장학금 2차 신청이 이번 주 금요일(4/11)에 마감됩니다. 아직 신청하지 않은 학생들은 서둘러 신청해주세요.
                       </div>
                   </li>
                   <li class="notice-item" onclick="goToNoticeDetail('notice3')">
                       <div class="notice-header">
                           <span class="notice-category">취업</span>
                           <span class="notice-date">2025.04.06</span>
                       </div>
                       <div class="notice-title">삼성전자 대규모 채용설명회 개최 안내</div>
                       <div class="notice-summary">
                           4월 15일(화) 오후 2시 대강당에서 삼성전자 채용설명회가 진행됩니다. 참석을 원하는 학생은 사전 신청 바랍니다.
                       </div>
                   </li>
               </ul>
           </div>
           
           <div class="content-pad"></div>
       </div>

        <!-- 시설 탭 -->
        <div id="facility-tab" class="tab-content">
            <!-- 검색 바 - 새로운 구조로 변경 -->
            <div class="search-bar">
                <div class="search-container">
                    <input type="text" id="facility-search-input" class="search-input" placeholder="건물, 강의실, 편의시설 검색" oninput="searchFacilities(this.value)">
                    <button class="search-clear" onclick="clearSearch()">✕</button>
                </div>
            </div>
            
            <!-- 빠른 검색 버튼 영역 -->
            <div class="quick-search-buttons">
                <div class="section-title" style="margin-top: 12px; margin-left: 16px; margin-right: 16px;">
                    <span>빠른 검색</span>
                </div>
                <div style="display: flex; overflow-x: auto; padding: 0 16px 12px 16px; gap: 8px;">
                    <button class="category-tag" onclick="quickSearch('강의실')">강의실</button>
                    <button class="category-tag" onclick="quickSearch('학생')">학생시설</button>
                    <button class="category-tag" onclick="quickSearch('식당')">식당/카페</button>
                    <button class="category-tag" onclick="quickSearch('도서관')">도서관</button>
                    <button class="category-tag" onclick="quickSearch('공학')">공학계열</button>
                </div>
            </div>
            
            <!-- 검색 결과를 표시할 컨테이너 추가 -->
            <div id="search-results" class="search-results" style="display: none;">
                <!-- 검색 결과가 여기에 동적으로 추가됩니다 -->
            </div>
            
            <!-- 검색 결과가 없을 때 표시될 내용 -->
            <div id="no-results" class="no-results" style="display: none;">
                검색 결과가 없습니다.
            </div>
            
            <!-- 원래 내용은 검색 결과가 없을 때만 표시 -->
            <div id="original-content">
                <!-- 네이버 지도로 대체된 캠퍼스 맵 -->
                <div class="campus-map" id="naverMap">
                    <!-- 지도가 로드되기 전에 표시할 이미지 삭제 -->
                    <!-- <img src="/api/placeholder/400/250" alt="연성대학교 캠퍼스 지도"> -->
                    <div class="map-control-buttons">
                        <div class="map-button" onclick="zoomIn()">🔍+</div>
                        <div class="map-button" onclick="zoomOut()">🔍-</div>
                        <div class="map-button" onclick="resetMapView()">🏠</div>
                    </div>

                    <!-- 여기에 GPS 버튼 추가 -->
                    <div class="gps-button" onclick="trackUserLocation()">📍</div>
                    
                    <!-- 경로 정보 로딩 인디케이터 -->
                    <div class="route-loading" id="routeLoading">
                        <span>🔄</span>
                        <span class="route-loading-text">경로를 계산하는 중...</span>
                    </div>
                    
                    <!-- 경로 정보 박스 -->
                    <div class="route-info-box" id="routeInfoBox">
                        <span class="route-info-close" onclick="closeRouteInfo()">✕</span>
                        <div class="route-info-title">목적지: <span id="routeDestination"></span></div>
                        <div class="route-info-detail">
                            <div>거리: <span id="routeDistance"></span></div>
                            <div>예상 소요시간: <span id="routeDuration"></span></div>
                        </div>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-title">
                        <span>주요 건물</span>
                    </div>
                    
                    <ul class="building-list">
                        <!-- 건물 항목들이 JavaScript로 동적 생성됩니다 -->
                    </ul>
                    
                    <!-- 페이지네이션 컨트롤 추가 -->
                    <div id="pagination-controls" class="pagination-controls">
                        <!-- 페이지 버튼들이 JavaScript로 동적 생성됩니다 -->
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="section-title">
                        <span>편의시설</span>
                    </div>
                    
                    <div class="facility-list">
                        <div class="facility-item" onclick="showFacilityDetail('cafeteria')">
                            <div class="facility-image">
                                <img src="https://placehold.co/150x100/gray/white?text=학생식당" alt="학생식당">
                            </div>
                            <div class="facility-info">
                                <div class="facility-name">학생식당</div>
                                <div class="facility-location">학생복지센터 2층</div>
                            </div>
                        </div>
                        <div class="facility-item" onclick="showFacilityDetail('cafe')">
                            <div class="facility-image">
                                <img src="https://placehold.co/150x100/gray/white?text=카페" alt="카페">
                            </div>
                            <div class="facility-info">
                                <div class="facility-name">카페 연성</div>
                                <div class="facility-location">문화1관 1층</div>
                            </div>
                        </div>
                        <div class="facility-item" onclick="showFacilityDetail('convenience')">
                            <div class="facility-image">
                                <img src="https://placehold.co/150x100/gray/white?text=편의점" alt="편의점">
                            </div>
                            <div class="facility-info">
                                <div class="facility-name">CU 편의점</div>
                                <div class="facility-location">학생복지센터 1층</div>
                            </div>
                        </div>
                        <div class="facility-item" onclick="showFacilityDetail('atm')">
                            <div class="facility-image">
                                <img src="https://placehold.co/150x100/gray/white?text=ATM" alt="ATM">
                            </div>
                            <div class="facility-info">
                                <div class="facility-name">ATM</div>
                                <div class="facility-location">학생복지센터 1층</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="content-pad"></div>
        </div>
        
        <!-- 커뮤니티 탭 -->
        <div id="community-tab" class="tab-content">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="강의평가 검색" onkeypress="handleSearchKeyPress(event)">
            </div>
            
            <!-- 실시간 커뮤니티 (에브리타임 스타일) -->
            <div class="everytime-community-card">
                <div class="everytime-header">
                    <div class="everytime-title">💬 실시간 커뮤니티</div>
                    <div class="everytime-view-all" onclick="goToPage('everytime-board')">게시판</div>
                </div>
                <div class="community-posts">
                    <div class="post-item">
                        <div class="post-board">[자유게시판]</div>
                        <div class="post-content">
                            <div class="post-title">중간고사 스터디 그룹 모집해요!</div>
                            <div class="post-preview">웹프, 마케팅 같이 공부할 분들 찾습니다. 카톡 주세요 ㅠㅠ</div>
                            <div class="post-meta">
                                <span class="post-time">3분 전</span>
                                <span class="post-stats">👍 12 💬 8</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-item">
                        <div class="post-board">[정보게시판]</div>
                        <div class="post-content">
                            <div class="post-title">김민수 교수님 수업 꿀팁 공유</div>
                            <div class="post-preview">과제 미리 준비하면 중간고사 때 편해요. 특히 포트폴리오는...</div>
                            <div class="post-meta">
                                <span class="post-time">12분 전</span>
                                <span class="post-stats">👍 24 💬 15</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-item">
                        <div class="post-board">[취업게시판]</div>
                        <div class="post-content">
                            <div class="post-title">삼성전자 채용설명회 후기</div>
                            <div class="post-preview">어제 참가했는데 생각보다 경쟁률이 높더라고요. 준비 팁 공유합니다.</div>
                            <div class="post-meta">
                                <span class="post-time">32분 전</span>
                                <span class="post-stats">👍 45 💬 23</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-item">
                        <div class="post-board">[강의평가]</div>
                        <div class="post-content">
                            <div class="post-title">이지영 교수님 마케팅 원론 후기</div>
                            <div class="post-preview">진짜 꿀강의! 실무 사례가 많아서 재미있어요. 추천!</div>
                            <div class="post-meta">
                                <span class="post-time">1시간 전</span>
                                <span class="post-stats">👍 18 💬 6</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 인기 강의평가 섹션 (메인 페이지에서 이동됨) -->
            <div class="content-section">
                <div class="section-title">
                    <span>인기 강의평가</span>
                </div>
                
                <div class="category-filter">
                    <div class="category-tag active" onclick="filterLectures('all')">전체</div>
                    <div class="category-tag" onclick="filterLectures('general')">교양</div>
                    <div class="category-tag" onclick="filterLectures('required')">전공필수</div>
                    <div class="category-tag" onclick="filterLectures('optional')">전공선택</div>
                </div>
                
                <ul class="lecture-list">
                    <li class="lecture-item" onclick="viewLectureDetail('web-programming')">
                        <div class="lecture-header">
                            <div class="lecture-title">웹 프로그래밍 실습</div>
                            <div class="lecture-rating">4.8</div>
                        </div>
                        <div class="lecture-info">
                            <span class="lecture-professor">김민수 교수님</span>
                            <span>컴퓨터정보학과</span>
                        </div>
                        <div class="rating-stars">★★★★★</div>
                        <div class="lecture-reviews">
                            "과제는 많지만 실력이 확실히 늘어요! 취업에 큰 도움이 됩니다."
                        </div>
                    </li>
                    <li class="lecture-item" onclick="viewLectureDetail('marketing')">
                        <div class="lecture-header">
                            <div class="lecture-title">마케팅 원론</div>
                            <div class="lecture-rating">4.5</div>
                        </div>
                        <div class="lecture-info">
                            <span class="lecture-professor">이지영 교수님</span>
                            <span>경영학과</span>
                        </div>
                        <div class="rating-stars">★★★★☆</div>
                        <div class="lecture-reviews">
                            "실제 사례를 많이 다루어서 이해하기 쉽고 재미있어요."
                        </div>
                    </li>
                    <li class="lecture-item" onclick="viewLectureDetail('english')">
                        <div class="lecture-header">
                            <div class="lecture-title">영어회화</div>
                            <div class="lecture-rating">4.3</div>
                        </div>
                        <div class="lecture-info">
                            <span class="lecture-professor">John Smith 교수님</span>
                            <span>교양과정</span>
                        </div>
                        <div class="rating-stars">★★★★☆</div>
                        <div class="lecture-reviews">
                            "원어민 교수님과 실제 대화를 많이 할 수 있어서 좋아요."
                        </div>
                    </li>
                    <li class="lecture-item" onclick="viewLectureDetail('statistics')">
                        <div class="lecture-header">
                            <div class="lecture-title">경영통계학</div>
                            <div class="lecture-rating">3.7</div>
                        </div>
                        <div class="lecture-info">
                            <span class="lecture-professor">박성호 교수님</span>
                            <span>경영학과</span>
                        </div>
                        <div class="rating-stars">★★★☆☆</div>
                        <div class="lecture-reviews">
                            "내용이 어렵지만 설명을 잘 해주세요. 시험은 까다로운 편."
                        </div>
                    </li>
                </ul>
            </div>
            
            <div class="content-pad"></div>
        </div>
        
        <!-- 내 정보 탭 - 로그인 상태에 따라 동적으로 변경 -->
        <div id="profile-tab" class="tab-content">
            <!-- 로그인이 필요한 상태 (기본값) -->
            <div id="profile-login-required" class="profile-section">
                <div class="profile-image">👤</div>
                <div class="profile-info">
                    <div class="profile-name">로그인이 필요합니다</div>
                    <div class="profile-detail">내 정보를 확인하려면 로그인해주세요</div>
                </div>
            </div>
            
            <!-- 로그인된 상태 (로그인 후 표시) -->
            <div id="profile-logged-in" class="profile-section" style="display: none;">
                <div class="profile-image">👨‍🎓</div>
                <div class="profile-info">
                    <div class="profile-name">사용자</div>
                    <div class="profile-detail">학과 | 학년</div>
                    <div class="profile-detail">학번: 0000000000</div>
                </div>
            </div>
            
            <!-- 메뉴들은 항상 표시 -->
            <div class="content-section">
                <div class="section-title">
                    <span>내 정보 관리</span>
                </div>
                
                <ul class="menu-list">
                    <li class="menu-item" onclick="navigateToProfilePage('timetable')">
                        <div class="menu-title">내 시간표</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="navigateToProfilePage('my-courses')">
                        <div class="menu-title">내 수강 강의</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="navigateToProfilePage('favorite-classrooms')">
                        <div class="menu-title">즐겨찾는 강의실</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="navigateToProfilePage('profile-edit')">
                        <div class="menu-title">개인정보 수정</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="deleteAccount()">
                        <div class="menu-title delete-account">회원 탈퇴</div>
                        <div class="menu-arrow">›</div>
                    </li>
                </ul>
            </div>
            
            <div class="content-section">
                <div class="section-title">
                    <span>학적 정보</span>
                </div>
                
                <ul class="menu-list">
                    <li class="menu-item" onclick="navigateToProfilePage('grades')">
                        <div class="menu-title">성적 조회</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="navigateToProfilePage('course-registration')">
                        <div class="menu-title">수강 신청 내역</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="navigateToProfilePage('scholarships')">
                        <div class="menu-title">장학금 내역</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="navigateToProfilePage('tuition')">
                        <div class="menu-title">등록금 납부 내역</div>
                        <div class="menu-arrow">›</div>
                    </li>
                </ul>
            </div>
            
            <div class="content-section">
                <div class="section-title">
                    <span>앱 설정</span>
                </div>
                
                <ul class="menu-list">
                    <li class="menu-item" onclick="navigateToProfilePage('notification-settings')">
                        <div class="menu-title">알림 설정</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="navigateToProfilePage('widget-settings')">
                        <div class="menu-title">위젯 및 메뉴 설정</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="resetAllSettings()">
                        <div class="menu-title">모든 설정 초기화</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="navigateToProfilePage('app-info')">
                        <div class="menu-title">앱 정보</div>
                        <div class="menu-arrow">›</div>
                    </li>
                    <li class="menu-item" onclick="logout()">
                        <div class="menu-title">로그아웃</div>
                        <div class="menu-arrow">›</div>
                    </li>
                </ul>
            </div>
            
            <div class="content-pad"></div>
        </div>
        
        <!-- 알림 탭 -->
        <div id="alert-tab" class="tab-content">
            <div class="content-section">
                <div class="section-title">
                    <span>알림</span>
                </div>
                
                <ul class="alert-list">
                    <li class="alert-item" onclick="viewNotification('emergency')">
                        <div class="alert-icon">📢</div>
                        <div class="alert-info">
                            <div class="alert-title">긴급 공지 <span class="alert-badge">중요</span></div>
                            <div class="alert-message">내일(4/9) 대학 전체 휴강 안내 - 시설 점검으로 인한 단수</div>
                            <div class="alert-time">10분 전</div>
                        </div>
                    </li>
                    <li class="alert-item" onclick="viewNotification('classroom')">
                        <div class="alert-icon">🏫</div>
                        <div class="alert-info">
                            <div class="alert-title">강의실 알림</div>
                            <div class="alert-message">웹 프로그래밍 실습 강의실이 3-101호에서 3-201호로 변경되었습니다.</div>
                            <div class="alert-time">30분 전</div>
                        </div>
                    </li>
                    <li class="alert-item" onclick="viewNotification('assignment')">
                        <div class="alert-icon">📝</div>
                        <div class="alert-info">
                            <div class="alert-title">과제 알림</div>
                            <div class="alert-message">마케팅 원론 과제 제출 기한이 내일 오후 6시까지입니다.</div>
                            <div class="alert-time">1시간 전</div>
                        </div>
                    </li>
                </ul>
            </div>
            
            <div class="content-pad"></div>
        </div>
        
        <!-- 하단 탭 메뉴 -->
        <div class="tab-menu">
            <div class="tab-item active" onclick="switchTab('home')">
                <span class="tab-icon">🏠</span>
                <span>홈</span>
            </div>
            <div class="tab-item" onclick="switchTab('facility')">
                <span class="tab-icon">🏫</span>
                <span>시설</span>
            </div>
            <div class="tab-item" onclick="switchTab('community')">
                <span class="tab-icon">💬</span>
                <span>커뮤니티</span>
            </div>
            <div class="tab-item" onclick="switchTab('profile')">
                <span class="tab-icon">👤</span>
                <span>내 정보</span>
            </div>
            <div class="tab-item" onclick="switchTab('alert')">
                <span class="tab-icon">🔔</span>
                <span>알림</span>
            </div>
        </div>
    </div>
   
   <!-- JavaScript 파일 연결 -->
   <script src="index.js"></script>
   
   <style>
       /* 버전 전환 버튼 */
       .version-toggle {
           position: fixed;
           top: 20px;
           right: 20px;
           z-index: 10000;
           background-color: #c62917;
           color: white;
           border: none;
           padding: 8px 16px;
           border-radius: 20px;
           font-size: 12px;
           cursor: pointer;
           box-shadow: 0 2px 10px rgba(0,0,0,0.2);
           transition: all 0.3s ease;
       }

       .version-toggle:hover {
           background-color: #a52312;
           transform: translateY(-2px);
       }

       /* 웹 브라우저 스타일 */
       .browser-container {
           max-width: 1200px;
           margin: 0 auto;
           background-color: white;
           min-height: 100vh;
           box-shadow: 0 0 20px rgba(0,0,0,0.1);
           display: block;
       }

       /* 모바일 컨테이너 기본 숨김 */
       .mobile-container {
           max-width: 768px;
           margin: 0 auto;
           background-color: white;
           min-height: 100vh;
           padding-bottom: 60px;
           position: relative;
           display: none;
       }

       /* 브라우저 헤더 */
       .browser-header {
           background-color: #c62917;
           color: white;
           padding: 20px 40px;
           display: flex;
           justify-content: space-between;
           align-items: center;
           box-shadow: 0 2px 10px rgba(0,0,0,0.1);
       }

       .browser-logo {
           font-size: 28px;
           font-weight: bold;
           display: flex;
           align-items: center;
           gap: 12px;
           cursor: pointer;
       }

       .browser-nav {
           display: flex;
           gap: 30px;
           align-items: center;
       }

       .nav-item {
           color: white;
           text-decoration: none;
           font-size: 16px;
           font-weight: 500;
           padding: 8px 16px;
           border-radius: 6px;
           transition: all 0.3s ease;
           cursor: pointer;
       }

       .nav-item:hover {
           background-color: rgba(255,255,255,0.1);
       }

       .nav-item.active {
           background-color: rgba(255,255,255,0.2);
       }

       .browser-auth {
           display: flex;
           gap: 12px;
           align-items: center;
       }

       /* 브라우저 메인 콘텐츠 */
       .browser-main {
           padding: 40px;
           min-height: calc(100vh - 80px);
       }

       .browser-tab-content {
           display: none;
       }

       .browser-tab-content.active {
           display: block;
       }

       /* 브라우저 콘텐츠 그리드 레이아웃 */
       .browser-content-grid {
           display: grid;
           grid-template-columns: 2fr 1fr;
           gap: 40px;
           margin-bottom: 40px;
       }

       .left-column {
           display: flex;
           flex-direction: column;
           gap: 20px;
       }

       .right-column {
           display: flex;
           flex-direction: column;
           gap: 20px;
       }

       /* 웹 버전 카드 스타일 */
       .browser-container .notification-banner,
       .browser-container .search-bar,
       .browser-container .shortcut-menu,
       .browser-container .timetable-preview,
       .browser-container .activity-summary-card,
       .browser-container .shuttle-card,
       .browser-container .calendar-card,
       .browser-container .student-deals-card {
           border-radius: 12px;
           box-shadow: 0 4px 12px rgba(0,0,0,0.08);
           border: 1px solid #eee;
       }

       /* 반응형 디자인 */
       @media screen and (max-width: 768px) {
           .browser-content-grid {
               grid-template-columns: 1fr;
               gap: 20px;
           }
           
           .browser-main {
               padding: 20px;
           }
           
           .browser-header {
               padding: 16px 20px;
           }
           
           .browser-logo {
               font-size: 20px;
           }
           
           .browser-nav {
               gap: 15px;
           }
           
           .nav-item {
               font-size: 14px;
               padding: 6px 12px;
           }
       }

       @media screen and (max-width: 480px) {
           .browser-nav {
               display: none;
           }
       }

       /* 기존 모바일 스타일들은 그대로 유지 */
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
           font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
       }

       body {
           background-color: #f5f5f5;
           color: #333;
       }

       .mobile-container header {
           background-color: #c62917;
           color: white;
           padding: 12px 16px;
           display: flex;
           justify-content: space-between;
           align-items: center;
       }

       .mobile-container .logo {
           font-size: 20px;
           font-weight: bold;
       }

       .mobile-container .header-icons {
           display: flex;
           gap: 16px;
           align-items: center;
       }

       .login-button {
           padding: 6px 12px;
           background-color: white;
           color: #c62917;
           border-radius: 4px;
           font-size: 14px;
           font-weight: bold;
           cursor: pointer;
           text-decoration: none;
       }

       .profile-dropdown-container {
           position: relative;
       }

       .header-profile-image {
           width: 32px;
           height: 32px;
           border-radius: 50%;
           background-color: #fff;
           display: flex;
           justify-content: center;
           align-items: center;
           overflow: hidden;
           cursor: pointer;
       }

       .profile-dropdown {
           position: absolute;
           top: 40px;
           right: 0;
           width: 220px;
           background-color: white;
           border-radius: 8px;
           box-shadow: 0 4px 12px rgba(0,0,0,0.15);
           z-index: 1000;
           overflow: hidden;
           display: none;
       }

       .profile-dropdown.active {
           display: block;
       }

       .dropdown-profile-info {
           padding: 16px;
           background-color: #f9f9f9;
           border-bottom: 1px solid #eee;
       }

       .dropdown-profile-name {
           font-size: 16px;
           font-weight: bold;
           margin-bottom: 4px;
           color: #333;
       }

       .dropdown-profile-detail {
           font-size: 13px;
           color: #666;
           margin-bottom: 2px;
       }

       .dropdown-divider {
           height: 1px;
           background-color: #eee;
       }

       .dropdown-item {
           padding: 12px 16px;
           display: flex;
           align-items: center;
           color: #666;
           cursor: pointer;
       }

       .dropdown-item:hover {
           background-color: #f5f5f5;
       }

       .dropdown-icon {
           margin-right: 8px;
           font-size: 18px;
       }

       .search-bar {
           padding: 12px 16px;
           background-color: #f9f9f9;
           display: flex;
           border-bottom: 1px solid #eee;
       }

       .search-input {
           flex: 1;
           padding: 8px 12px;
           border: 1px solid #ddd;
           border-radius: 4px;
           font-size: 14px;
       }

       /* 검색 결과 스타일 */
       .search-results {
           background-color: white;
           border-radius: 0 0 8px 8px;
           box-shadow: 0 4px 8px rgba(0,0,0,0.1);
           margin: 0 16px;
           overflow: hidden;
           position: relative;
           z-index: 100;
           max-height: 60vh;
           overflow-y: auto;
       }

       .no-results {
           padding: 16px;
           text-align: center;
           color: #888;
           font-size: 14px;
       }

       .notification-banner {
           background-color: #ffebee;
           padding: 12px 16px;
           border-bottom: 1px solid #ffcdd2;
           display: flex;
           align-items: center;
           gap: 8px;
       }

       .urgent-icon {
           color: #c62917;
           font-weight: bold;
       }

       .notification-text {
           font-size: 14px;
           flex: 1;
       }

       .shortcut-menu {
           display: flex;
           padding: 16px;
           justify-content: space-between;
           border-bottom: 1px solid #eee;
       }

       .shortcut-item {
           display: flex;
           flex-direction: column;
           align-items: center;
           width: 60px;
           cursor: pointer;
       }

       .shortcut-icon {
           width: 40px;
           height: 40px;
           background-color: #f0f0f0;
           border-radius: 50%;
           display: flex;
           justify-content: center;
           align-items: center;
           margin-bottom: 8px;
           font-size: 20px;
       }

       .shortcut-text {
           font-size: 12px;
           text-align: center;
           color: #555;
       }

       .content-section {
           padding: 16px;
       }

       .section-title {
           font-size: 16px;
           font-weight: bold;
           margin-bottom: 12px;
           display: flex;
           justify-content: space-between;
           align-items: center;
       }

       .see-all {
           font-size: 13px;
           color: #888;
           text-decoration: none;
       }

       .notice-list {
           list-style: none;
       }

       .notice-item {
           padding: 12px 0;
           border-bottom: 1px solid #eee;
           cursor: pointer;
       }

       .notice-header {
           display: flex;
           justify-content: space-between;
           margin-bottom: 6px;
       }

       .notice-category {
           background-color: #f0f0f0;
           padding: 2px 6px;
           border-radius: 4px;
           font-size: 12px;
           color: #555;
       }

       .notice-date {
           font-size: 12px;
           color: #888;
       }

       .notice-title {
           font-size: 15px;
           margin-bottom: 6px;
       }

       .notice-summary {
           font-size: 13px;
           color: #666;
           line-height: 1.4;
       }

       .facility-list {
           display: grid;
           grid-template-columns: 1fr 1fr;
           gap: 12px;
       }

       .facility-item {
           border: 1px solid #eee;
           border-radius: 8px;
           overflow: hidden;
           cursor: pointer;
       }

       .facility-image {
           height: 100px;
           background-color: #f0f0f0;
           display: flex;
           justify-content: center;
           align-items: center;
       }

       .facility-info {
           padding: 10px;
       }

       .facility-name {
           font-size: 14px;
           font-weight: bold;
           margin-bottom: 4px;
       }

       .facility-location {
           font-size: 12px;
           color: #666;
       }

       .lecture-list {
           list-style: none;
       }

       .lecture-item {
           padding: 12px;
           border: 1px solid #eee;
           border-radius: 8px;
           margin-bottom: 12px;
           cursor: pointer;
       }

       .lecture-header {
           display: flex;
           justify-content: space-between;
           margin-bottom: 8px;
       }

       .lecture-title {
           font-size: 15px;
           font-weight: bold;
       }

       .lecture-rating {
           color: #ff9800;
           font-weight: bold;
       }

       .lecture-info {
           font-size: 13px;
           color: #666;
           margin-bottom: 8px;
           display: flex;
           justify-content: space-between;
       }

       .lecture-professor {
           color: #333;
       }

       .lecture-reviews {
           font-size: 12px;
           color: #666;
       }

       /* 하단 탭 메뉴 수정 - 항상 표시되도록 */
       .tab-menu {
           display: flex;
           position: fixed;
           bottom: 0;
           left: 0;
           right: 0;
           max-width: 768px;
           margin: 0 auto;
           background-color: white;
           border-top: 1px solid #ddd;
           z-index: 1000; /* 다른 요소 위에 표시되도록 z-index 추가 */
           box-shadow: 0 -2px 5px rgba(0,0,0,0.05); /* 약간의 그림자 추가 */
       }

       .tab-item {
           flex: 1;
           display: flex;
           flex-direction: column;
           align-items: center;
           padding: 8px 0;
           font-size: 12px;
           color: #888;
           text-decoration: none;
           cursor: pointer;
       }

       .tab-item.active {
           color: #c62917;
       }

       .tab-icon {
           font-size: 22px;
           margin-bottom: 4px;
       }

       /* 지도 컨테이너 스타일 수정 */
       .campus-map {
           height: 350px; /* 높이 고정 */
           width: 100%;   /* 너비 100% */
           position: relative;
           border-radius: 8px;
           overflow: hidden;
           margin: 16px 0;
           box-shadow: 0 2px 6px rgba(0,0,0,0.1);
           /* 추가: 컨테이너가 축소되지 않도록 패딩 및 마진 제거 */
           padding: 0;
           box-sizing: border-box;
       }

       /* 추가: 지도를 가리는 요소들 제거 */
       .campus-map > div:not(#naverMap):not(.map-control-buttons):not(.gps-button):not(.route-loading):not(.route-info-box) {
           display: none;
       }

       .campus-map img {
           max-width: 100%;
           max-height: 100%;
       }

       /* 지도 마커 정보창 스타일 */
       .map-info-window {
           padding: 8px 12px;
           background: white;
           border-radius: 4px;
           box-shadow: 0 2px 6px rgba(0,0,0,0.2);
           font-size: 13px;
           max-width: 200px;
       }

       .map-info-title {
           font-weight: bold;
           margin-bottom: 4px;
           color: #333;
       }

       .map-info-desc {
           color: #666;
           font-size: 12px;
       }

       /* 지도 버튼 스타일 */
       .map-control-buttons {
           position: absolute;
           bottom: 10px;
           right: 10px;
           z-index: 100;
           display: flex;
           flex-direction: column;
           gap: 6px;
       }

       .map-button {
           padding: 8px;
           background-color: white;
           border-radius: 4px;
           box-shadow: 0 2px 4px rgba(0,0,0,0.2);
           display: flex;
           align-items: center;
           justify-content: center;
           font-size: 14px;
           cursor: pointer;
       }

       .content-pad {
           padding-bottom: 60px; /* 하단 탭 메뉴 높이만큼 여백 */
       }

       /* 탭 콘텐츠 */
       .tab-content {
           display: none;
       }

       .tab-content.active {
           display: block;
       }

       /* 건물 및 교실 목록 */
       .building-list {
           list-style: none;
       }

       /* 건물 목록 항목 재디자인 */
       .building-item {
           padding: 12px;
           border-bottom: 1px solid #eee;
           cursor: pointer;
           display: flex;
           align-items: center;
       }

       .building-image {
           width: 80px;
           height: 60px;
           border-radius: 4px;
           overflow: hidden;
           margin-right: 12px;
           background-color: #f0f0f0;
           display: flex;
           justify-content: center;
           align-items: center;
       }

       .building-image img {
           width: 100%;
           height: 100%;
           object-fit: cover;
       }

       .building-info-container {
           flex: 1;
           display: flex;
           justify-content: space-between;
           align-items: center;
       }

       .building-info {
           flex: 1;
       }

       .building-name {
           font-size: 16px;
           font-weight: bold;
           margin-bottom: 4px;
       }

       .building-description {
           font-size: 13px;
           color: #666;
       }

       .building-nav-button {
           display: flex;
           flex-direction: column;
           align-items: center;
           background-color: #f0f0f0;
           padding: 8px;
           border-radius: 4px;
           margin-left: 8px;
           cursor: pointer;
       }

       .building-nav-button:hover {
           background-color: #e0e0e0;
       }

       .building-nav-button span:first-child {
           font-size: 12px;
           color: #555;
           margin-bottom: 4px;
       }

       .building-nav-button span:last-child {
           font-size: 18px;
       }

       /* 강의 평가 스타일 */
       .rating-stars {
           color: #ffb400;
           letter-spacing: 2px;
       }

       /* 카테고리 필터 */
       .category-filter {
           display: flex;
           overflow-x: auto;
           padding: 8px 0;
           margin-bottom: 12px;
           -webkit-overflow-scrolling: touch;
       }

       .category-tag {
           flex-shrink: 0;
           padding: 6px 12px;
           border: 1px solid #ddd;
           border-radius: 16px;
           margin-right: 8px;
           font-size: 13px;
           color: #555;
           background-color: white;
           cursor: pointer;
       }

       .category-tag.active {
           background-color: #c62917;
           color: white;
           border-color: #c62917;
       }

       /* 알림 리스트 */
       .alert-list {
           list-style: none;
       }

       .alert-item {
           padding: 12px;
           border-bottom: 1px solid #eee;
           display: flex;
           cursor: pointer;
       }

       .alert-icon {
           width: 40px;
           height: 40px;
           border-radius: 20px;
           background-color: #f0f0f0;
           display: flex;
           justify-content: center;
           align-items: center;
           margin-right: 12px;
           font-size: 20px;
       }

       .alert-info {
           flex: 1;
       }

       .alert-title {
           font-size: 15px;
           margin-bottom: 4px;
       }

       .alert-message {
           font-size: 13px;
           color: #666;
           margin-bottom: 4px;
       }

       .alert-time {
           font-size: 12px;
           color: #888;
       }

       .alert-badge {
           display: inline-block;
           padding: 2px 6px;
           border-radius: 10px;
           background-color: #c62917;
           color: white;
           font-size: 12px;
           margin-left: 4px;
       }

       /* 내 정보 탭 */
       .profile-section {
           padding: 24px 16px;
           display: flex;
           align-items: center;
           border-bottom: 1px solid #eee;
       }

       .profile-image {
           width: 60px;
           height: 60px;
           border-radius: 30px;
           background-color: #f0f0f0;
           margin-right: 16px;
           display: flex;
           justify-content: center;
           align-items: center;
           font-size: 24px;
           overflow: hidden;
       }

       .profile-info {
           flex: 1;
       }

       .profile-name {
           font-size: 18px;
           font-weight: bold;
           margin-bottom: 4px;
       }

       .profile-detail {
           font-size: 14px;
           color: #666;
       }

       .menu-list {
           list-style: none;
       }

       .menu-item {
           padding: 16px;
           border-bottom: 1px solid #eee;
           display: flex;
           justify-content: space-between;
           align-items: center;
           cursor: pointer;
       }

       .menu-title {
           font-size: 15px;
       }

       .menu-arrow {
           color: #ccc;
       }

       /* 공지사항 상세 */
       .notice-detail {
           padding: 20px 16px;
       }

       .notice-detail-header {
           margin-bottom: 16px;
       }

       .notice-detail-title {
           font-size: 18px;
           font-weight: bold;
           margin-bottom: 8px;
       }

       .notice-detail-info {
           display: flex;
           justify-content: space-between;
           font-size: 13px;
           color: #888;
       }

       .notice-detail-content {
           font-size: 15px;
           line-height: 1.6;
       }

       /* 로딩 인디케이터 */
       .loading {
           display: none;
           text-align: center;
           padding: 20px;
           color: #888;
       }

       /* 헤더 프로필 이미지 스타일 */
       .header-profile-image {
           width: 32px;
           height: 32px;
           border-radius: 50%;
           background-color: #fff;
           display: flex;
           justify-content: center;
           align-items: center;
           overflow: hidden;
           margin-left: 8px;
       }

       /* 프로필 이미지 스타일 */
       .profile-image img {
           width: 100%;
           height: 100%;
           object-fit: cover;
           border-radius: 50%;
       }

       /* 회원 탈퇴 버튼 스타일 */
       .delete-account {
           color: #e53935;
       }

       /* 페이지네이션 스타일 */
       .pagination-controls {
           display: flex;
           justify-content: center;
           padding: 16px 0;
           gap: 10px;
       }

       .pagination-button {
           padding: 8px 12px;
           border: 1px solid #ddd;
           border-radius: 4px;
           background-color: #f9f9f9;
           font-size: 14px;
           cursor: pointer;
       }

       .pagination-button:hover {
           background-color: #f0f0f0;
       }

       .pagination-button.active {
           background-color: #c62917;
           border-color: #c62917;
           color: white;
       }

       .pagination-button:disabled {
           opacity: 0.5;
           cursor: not-allowed;
       }

       /* 검색 결과 스타일 개선 */
       .search-results {
           background-color: white;
           border: 1px solid #eee;
           border-radius: 0 0 8px 8px;
           box-shadow: 0 4px 8px rgba(0,0,0,0.1);
           margin: 0 16px;
           max-height: 60vh;
           overflow-y: auto;
           position: absolute;
           width: calc(100% - 32px);
           z-index: 200;
       }

       .search-results .building-item {
           border-bottom: 1px solid #eee;
       }

       .search-results .building-item:last-child {
           border-bottom: none;
       }

       .no-results {
           padding: 16px;
           text-align: center;
           color: #888;
           font-size: 14px;
           background-color: white;
           border: 1px solid #eee;
           border-top: none;
           border-radius: 0 0 8px 8px;
           box-shadow: 0 4px 8px rgba(0,0,0,0.1);
           margin: 0 16px;
           position: absolute;
           z-index: 100;
           width: calc(100% - 32px);
       }

       .search-highlight {
           background-color: rgba(198, 41, 23, 0.1);
           font-weight: bold;
           color: #c62917;
       }

       /* 검색바 컨테이너 스타일 */
       .search-container {
           position: relative;
           width: 100%;
           display: flex;
       }

       .search-input {
           flex: 1;
           padding: 8px 30px 8px 12px;
           border: 1px solid #ddd;
           border-radius: 4px;
           font-size: 14px;
           transition: all 0.2s ease;
       }

       .search-input:focus {
           outline: none;
           border-color: #c62917;
           box-shadow: 0 0 0 2px rgba(198, 41, 23, 0.2);
       }

       .search-clear {
           position: absolute;
           right: 10px;
           top: 50%;
           transform: translateY(-50%);
           color: #888;
           background: none;
           border: none;
           cursor: pointer;
           font-size: 14px;
           padding: 0;
           display: none;
           transition: color 0.2s ease;
       }

       .search-clear:hover {
           color: #c62917;
       }

       /* 검색 결과 항목 호버 효과 */
       .search-results .building-item:hover {
           background-color: #f9f9f9;
       }

       /* 빠른 검색 버튼 스타일 */
       .quick-search-buttons {
           background-color: white;
           border-bottom: 1px solid #eee;
           margin-bottom: 12px;
       }

       .quick-search-buttons .category-tag {
           background-color: #f5f5f5;
           border: 1px solid #ddd;
           border-radius: 16px;
           color: #555;
           cursor: pointer;
           font-size: 13px;
           padding: 6px 12px;
           transition: all 0.2s ease;
       }

       .quick-search-buttons .category-tag:hover {
           background-color: #e5e5e5;
       }

       .quick-search-buttons .category-tag.active {
           background-color: #c62917;
           border-color: #c62917;
           color: white;
       }

       /* GPS 버튼 스타일 */
       .gps-button {
           position: absolute;
           bottom: 80px;
           right: 10px;
           width: 40px;
           height: 40px;
           border-radius: 50%;
           background-color: white;
           box-shadow: 0 2px 6px rgba(0,0,0,0.3);
           display: flex;
           justify-content: center;
           align-items: center;
           font-size: 20px;
           z-index: 100;
           cursor: pointer;
       }

       /* 사용자 위치 마커 스타일 */
       .user-location-marker {
           width: 20px;
           height: 20px;
           border-radius: 50%;
           background-color: #4285F4;
           border: 3px solid white;
           box-shadow: 0 2px 6px rgba(0,0,0,0.3);
       }

       /* 경로 안내 로딩 인디케이터 */
       .route-loading {
           position: absolute;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);
           background-color: rgba(255, 255, 255, 0.9);
           padding: 12px 20px;
           border-radius: 8px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.2);
           z-index: 1000;
           display: none;
       }

       .route-loading-text {
           font-size: 14px;
           color: #333;
           margin-left: 8px;
       }

       /* 경로 정보 박스 */
       .route-info-box {
           position: absolute;
           bottom: 120px;
           left: 10px;
           right: 10px;
           background-color: white;
           padding: 12px;
           border-radius: 8px;
           box-shadow: 0 2px 8px rgba(0,0,0,0.2);
           z-index: 90;
           display: none;
       }

       .route-info-title {
           font-weight: bold;
           margin-bottom: 8px;
           font-size: 14px;
       }

       .route-info-detail {
           display: flex;
           justify-content: space-between;
           font-size: 12px;
           color: #555;
       }

       .route-info-close {
           position: absolute;
           top: 8px;
           right: 8px;
           font-size: 16px;
           color: #888;
           cursor: pointer;
       }

       /* 홈 화면을 위한 새로운 스타일 추가 */
       /* 사용자 환영 카드 */
       .welcome-card {
           background: linear-gradient(135deg, #c62917, #e64a19);
           color: white;
           border-radius: 12px;
           padding: 16px;
           margin: 16px;
           box-shadow: 0 4px 12px rgba(0,0,0,0.15);
       }

       .welcome-title {
           font-size: 18px;
           font-weight: bold;
           margin-bottom: 8px;
       }

       .welcome-subtitle {
           font-size: 14px;
           opacity: 0.9;
       }

       /* 시간표 미리보기 */
       .timetable-preview {
           background-color: white;
           border-radius: 12px;
           border: 1px solid #eee;
           padding: 16px;
           margin: 0 16px 16px 16px;
           box-shadow: 0 2px 6px rgba(0,0,0,0.05);
       }

       .timetable-header {
           display: flex;
           justify-content: space-between;
           align-items: center;
           margin-bottom: 12px;
       }

       .timetable-date {
           font-size: 14px;
           font-weight: bold;
       }

       .timetable-now {
           font-size: 12px;
           padding: 4px 8px;
           background-color: #c62917;
           color: white;
           border-radius: 12px;
       }

       .class-item {
           display: flex;
           padding: 10px 0;
           border-bottom: 1px solid #f0f0f0;
       }

       .class-item:last-child {
           border-bottom: none;
       }

       .class-time {
           width: 60px;
           font-size: 14px;
           color: #666;
           text-align: center;
           padding-right: 10px;
       }

       .class-info {
           flex: 1;
       }

       .class-name {
           font-size: 15px;
           font-weight: bold;
           margin-bottom: 4px;
       }

       .class-location {
           font-size: 13px;
           color: #666;
       }

       /* 수정된 셔틀버스 카드 스타일 */
       .shuttle-card {
           background-color: white;
           border-radius: 16px;
           border: 1px solid #eee;
           padding: 20px;
           margin: 0 16px 16px 16px;
           box-shadow: 0 3px 10px rgba(0,0,0,0.08);
       }

       .shuttle-header {
           display: flex;
           justify-content: space-between;
           align-items: center;
           margin-bottom: 20px;
       }

       .shuttle-title {
           font-size: 18px;
           font-weight: bold;
           color: #333;
       }

       .shuttle-icon {
           font-size: 24px;
       }

       /* 노선 선택 탭 */
       .shuttle-route-tabs {
           display: flex;
           gap: 8px;
           margin-bottom: 20px;
           overflow-x: auto;
           -webkit-overflow-scrolling: touch;
           padding-bottom: 5px;
       }

       .route-tab {
           flex: 1;
           min-width: 110px;
           padding: 12px 8px;
           border: 2px solid #f0f0f0;
           border-radius: 12px;
           background-color: #f9f9f9;
           cursor: pointer;
           transition: all 0.3s ease;
           position: relative;
       }

       .route-tab.active {
           background-color: #c62917;
           border-color: #c62917;
           transform: translateY(-2px);
           box-shadow: 0 4px 12px rgba(198, 41, 23, 0.2);
       }

       .route-tab:hover:not(.active) {
           background-color: #f0f0f0;
           border-color: #ddd;
           transform: translateY(-1px);
       }

       .route-name {
           display: block;
           font-size: 14px;
           font-weight: bold;
           color: #333;
           margin-bottom: 4px;
       }

       .route-tab.active .route-name {
           color: white;
       }

       .route-desc {
           display: block;
           font-size: 11px;
           color: #666;
           text-align: center;
           line-height: 1.3;
       }

       .route-tab.active .route-desc {
           color: rgba(255, 255, 255, 0.9);
       }

       /* 다음 버스 정보 */
       .shuttle-next-info {
           background: linear-gradient(135deg, #f8f9ff, #e8f2ff);
           border-radius: 12px;
           padding: 16px;
           margin-bottom: 16px;
           display: flex;
           justify-content: space-between;
           align-items: center;
       }

       .next-bus-main {
           flex: 1;
       }

       .shuttle-time {
           font-size: 20px;
           font-weight: bold;
           color: #c62917;
           margin-bottom: 6px;
       }

       .shuttle-desc {
           font-size: 14px;
           color: #666;
       }

       .shuttle-status {
           margin-left: 12px;
       }

       .status-badge {
           padding: 6px 12px;
           border-radius: 20px;
           font-size: 12px;
           font-weight: bold;
           text-align: center;
       }

       .status-badge.running {
           background-color: #4caf50;
           color: white;
       }

       .status-badge.waiting {
           background-color: #ff9800;
           color: white;
       }

       .status-badge.stopped {
           background-color: #9e9e9e;
           color: white;
       }

       /* 운행 시간표 */
       .shuttle-schedule {
           background-color: #f9f9f9;
           border-radius: 12px;
           padding: 16px;
           margin-bottom: 16px;
       }

       .schedule-header {
           font-size: 14px;
           font-weight: bold;
           color: #333;
           margin-bottom: 12px;
           text-align: center;
       }

       .shuttle-time-slots {
           display: flex;
           justify-content: space-between;
           gap: 8px;
       }

       .time-slot {
           flex: 1;
           text-align: center;
           padding: 10px 8px;
           background-color: white;
           border-radius: 8px;
           border: 1px solid #eee;
       }

       .time-period {
           font-size: 12px;
           color: #666;
           margin-bottom: 4px;
       }

       .time-range {
           font-size: 13px;
           font-weight: bold;
           color: #333;
           margin-bottom: 2px;
       }

       .time-interval {
           font-size: 11px;
           color: #999;
       }

       /* 다음 운행 시간들 */
       .shuttle-upcoming {
           background-color: white;
       }

       .upcoming-header {
           font-size: 14px;
           font-weight: bold;
           color: #333;
           margin-bottom: 12px;
           text-align: center;
       }

       .shuttle-time-list {
           display: flex;
           justify-content: space-between;
           gap: 8px;
       }

       .shuttle-time-item {
           flex: 1;
           text-align: center;
           padding: 12px 8px;
           background-color: #f9f9f9;
           border-radius: 8px;
           border: 1px solid #eee;
           transition: all 0.2s ease;
       }

       .shuttle-time-item:hover {
           background-color: #f0f0f0;
           transform: translateY(-1px);
       }

       .time-value {
           font-size: 16px;
           font-weight: bold;
           color: #333;
           margin-bottom: 4px;
       }

       .time-label {
           font-size: 11px;
           color: #666;
       }

       /* 기존 셔틀버스 노선 선택 스타일 제거 */
       .shuttle-route-selector {
           display: none;
       }

       .route-select-btn {
           display: none;
       }

       /* 구 시간더타임즈 스타일 숨기기 */
       .shuttle-next,
       .shuttle-more-times {
           display: none;
       }

       /* 캘린더 이벤트 카드 */
       .calendar-card {
           background-color: white;
           border-radius: 12px;
           border: 1px solid #eee;
           padding: 16px;
           margin: 0 16px 16px 16px;
           box-shadow: 0 2px 6px rgba(0,0,0,0.05);
       }

       .calendar-list {
           list-style: none;
       }

       /* 학사일정 항목 개선된 스타일 */
       .calendar-item {
           padding: 16px 0;
           border-bottom: 1px solid #eee;
           cursor: pointer;
           transition: all 0.3s ease;
           position: relative;
           display: flex;
           align-items: center;
       }

       .calendar-item:hover {
           background-color: #f9f9f9;
           transform: translateX(5px);
       }

       .calendar-item:last-child {
           border-bottom: none;
       }

       .calendar-date {
           display: flex;
           flex-direction: column;
           align-items: center;
           min-width: 70px;
           margin-right: 16px;
       }

       .calendar-day {
           font-size: 24px;
           font-weight: bold;
           color: #c62917;
           line-height: 1;
       }

       .calendar-month {
           font-size: 12px;
           color: #666;
           margin-top: 2px;
       }

       .d-day {
           font-size: 10px;
           background-color: #c62917;
           color: white;
           padding: 2px 6px;
           border-radius: 10px;
           margin-top: 4px;
           font-weight: bold;
       }

       .calendar-info {
           flex: 1;
       }

       .calendar-title {
           font-size: 16px;
           font-weight: bold;
           margin-bottom: 4px;
           color: #333;
       }

       .calendar-desc {
           font-size: 14px;
           color: #666;
           margin-bottom: 4px;
           line-height: 1.4;
       }

       .calendar-full-date {
           font-size: 12px;
           color: #888;
       }

       /* 이벤트 타입별 색상 */
       .type-academic .calendar-day {
           color: #3498db;
       }

       .type-exam .calendar-day {
           color: #e74c3c;
       }

       .type-holiday .calendar-day {
           color: #27ae60;
       }

       .type-event .calendar-day {
           color: #9b59b6;
       }

       .type-registration .calendar-day {
           color: #f39c12;
       }

       /* 동아리 활동 카드 */
       .club-activity-card {
           background-color: white;
           border-radius: 12px;
           border: 1px solid #eee;
           padding: 16px;
           margin: 0 16px 16px 16px;
           box-shadow: 0 2px 6px rgba(0,0,0,0.05);
       }

       .club-activities {
           margin-top: 12px;
           display: grid;
           gap: 12px;
       }

       .status-item {
           flex: 1;
           text-align: center;
       }

       .club-item {
           display: flex;
           align-items: center;
           padding: 12px;
           background-color: #f9f9f9;
           border-radius: 8px;
           border-left: 4px solid #e0e0e0;
           transition: all 0.2s ease;
       }

       .club-item.recruiting {
           border-left-color: #4caf50;
           background-color: #f8fff8;
       }

       .club-item.event {
           border-left-color: #ff9800;
           background-color: #fff8f0;
       }

       .club-item.activity {
           border-left-color: #2196f3;
           background-color: #f0f8ff;
       }

       .club-icon {
           font-size: 24px;
           margin-right: 12px;
           width: 40px;
           text-align: center;
       }

       .club-info {
           flex: 1;
       }

       .club-name {
           font-size: 14px;
           font-weight: bold;
           color: #333;
           margin-bottom: 4px;
       }

       .club-description {
           font-size: 13px;
           color: #666;
           margin-bottom: 6px;
       }

       .club-status {
           font-size: 12px;
           font-weight: bold;
           padding: 4px 8px;
           border-radius: 12px;
           display: inline-block;
       }

       .club-item.recruiting .club-status {
           background-color: #e8f5e9;
           color: #2e7d32;
       }

       .club-item.event .club-status {
           background-color: #fff3e0;
           color: #e65100;
       }

       .club-item.activity .club-status {
           background-color: #e3f2fd;
           color: #1565c0;
       }

       /* 로그인 필요 상태 스타일 */
       #profile-login-required {
           padding: 24px 16px;
           display: flex;
           align-items: center;
           border-bottom: 1px solid #eee;
           background-color: #f9f9f9;
       }

       #profile-login-required .profile-image {
           width: 60px;
           height: 60px;
           border-radius: 30px;
           background-color: #e0e0e0;
           margin-right: 16px;
           display: flex;
           justify-content: center;
           align-items: center;
           font-size: 24px;
           color: #888;
       }

       #profile-login-required .profile-name {
           font-size: 18px;
           font-weight: bold;
           margin-bottom: 4px;
           color: #666;
       }

       #profile-login-required .profile-detail {
           font-size: 14px;
           color: #888;
       }

       /* 로그인 버튼 스타일 개선 */
       #profile-login-button .menu-item {
           background-color: #f9f9f9;
           border: 1px solid #c62917;
           border-radius: 8px;
           margin: 16px;
           transition: all 0.2s ease;
       }

       #profile-login-button .menu-item:hover {
           background-color: #c62917;
           color: white;
       }

       #profile-login-button .menu-item:hover .menu-title {
           color: white;
       }

       /* 로그인된 상태 프로필 이미지 스타일 보완 */
       #profile-logged-in .profile-image {
           width: 60px;
           height: 60px;
           border-radius: 30px;
           background-color: #f0f0f0;
           margin-right: 16px;
           display: flex;
           justify-content: center;
           align-items: center;
           font-size: 24px;
           overflow: hidden;
       }

       #profile-logged-in .profile-image img {
           width: 100%;
           height: 100%;
           object-fit: cover;
           border-radius: 50%;
       }

       /* 애니메이션 효과 추가 */
       #profile-login-required,
       #profile-logged-in,
       #profile-menus,
       #profile-login-button {
           transition: all 0.3s ease;
       }

       /* 반응형 디자인 */
       @media screen and (max-width: 480px) {
           .route-tab {
               min-width: 90px;
               padding: 10px 6px;
           }
           
           .route-name {
               font-size: 13px;
           }
           
           .route-desc {
               font-size: 10px;
           }
           
           .shuttle-time-slots {
               flex-direction: column;
               gap: 8px;
           }
           
           .time-slot {
               padding: 8px;
           }
       }

       /* 교내/대외활동 요약 카드 */
       .activity-summary-card {
           background-color: white;
           border-radius: 12px;
           border: 1px solid #eee;
           padding: 16px;
           margin: 0 16px 16px 16px;
           box-shadow: 0 2px 6px rgba(0,0,0,0.05);
       }

       .activity-summary-header {
           display: flex;
           justify-content: space-between;
           align-items: center;
           margin-bottom: 16px;
       }

       .activity-summary-title {
           font-size: 16px;
           font-weight: bold;
           color: #333;
       }

       .activity-summary-time {
           font-size: 12px;
           color: #888;
           padding: 4px 8px;
           background-color: #f5f5f5;
           border-radius: 12px;
       }

       .activity-summary-grid {
           display: grid;
           grid-template-columns: 1fr 1fr 1fr;
           gap: 12px;
           margin-bottom: 16px;
       }

       .activity-stat-item {
           display: flex;
           flex-direction: column;
           align-items: center;
           padding: 12px;
           background-color: #f9f9f9;
           border-radius: 8px;
           border: 1px solid #eee;
       }

       .activity-stat-icon {
           font-size: 24px;
           margin-bottom: 8px;
       }

       .activity-stat-info {
           text-align: center;
       }

       .activity-stat-number {
           font-size: 18px;
           font-weight: bold;
           color: #c62917;
           margin-bottom: 4px;
       }

       .activity-stat-label {
           font-size: 12px;
           color: #666;
           line-height: 1.3;
       }

       .activity-summary-notices {
           padding-top: 12px;
           border-top: 1px solid #eee;
       }

       .activity-notice-item {
           display: flex;
           align-items: center;
           margin-bottom: 8px;
       }

       .activity-notice-item:last-child {
           margin-bottom: 0;
       }

       .activity-notice-icon {
           margin-right: 8px;
           font-size: 16px;
       }

       .activity-notice-text {
           font-size: 13px;
           color: #666;
       }

       /* 에브리타임 커뮤니티 카드 */
       .everytime-community-card {
           background-color: white;
           border-radius: 12px;
           border: 1px solid #eee;
           padding: 16px;
           margin: 0 16px 16px 16px;
           box-shadow: 0 2px 6px rgba(0,0,0,0.05);
       }

       .everytime-header {
           display: flex;
           justify-content: space-between;
           align-items: center;
           margin-bottom: 16px;
       }

       .everytime-title {
           font-size: 16px;
           font-weight: bold;
           color: #333;
       }

       .everytime-view-all {
           font-size: 13px;
           color: #c62917;
           cursor: pointer;
           text-decoration: none;
       }

       .community-posts {
           display: flex;
           flex-direction: column;
           gap: 12px;
       }

       .post-item {
           padding: 12px;
           border: 1px solid #eee;
           border-radius: 8px;
           background-color: #f9f9f9;
           cursor: pointer;
           transition: all 0.2s ease;
       }

       .post-item:hover {
           background-color: #f0f0f0;
           transform: translateY(-1px);
       }

       .post-board {
           font-size: 12px;
           color: #c62917;
           font-weight: bold;
           margin-bottom: 8px;
       }

       .post-content {
           flex: 1;
       }

       .post-title {
           font-size: 14px;
           font-weight: bold;
           color: #333;
           margin-bottom: 6px;
           line-height: 1.3;
       }

       .post-preview {
           font-size: 13px;
           color: #666;
           line-height: 1.4;
           margin-bottom: 8px;
           overflow: hidden;
           text-overflow: ellipsis;
           white-space: nowrap;
       }

       .post-meta {
           display: flex;
           justify-content: space-between;
           align-items: center;
       }

       .post-time {
           font-size: 12px;
           color: #888;
       }

       .post-stats {
           font-size: 12px;
           color: #888;
       }

       /* 학생 할인 맛집 카드 스타일 */
       .student-deals-card {
           background-color: white;
           border-radius: 12px;
           border: 1px solid #eee;
           padding: 16px;
           margin: 0 16px 16px 16px;
           box-shadow: 0 2px 6px rgba(0,0,0,0.05);
       }

       #popular-restaurants-list {
           display: flex;
           flex-direction: column;
       }

       .popular-restaurant-item {
           display: flex;
           padding: 12px 0;
           border-bottom: 1px solid #f0f0f0;
       }

       .popular-restaurant-item:last-child {
           border-bottom: none;
       }

       .restaurant-image {
           width: 92px;
           height: 92px;
           border-radius: 8px;
           overflow: hidden;
           margin-right: 16px;
           flex-shrink: 0;
           background-color: #f0f0f0;
           display: flex;
           justify-content: center;
           align-items: center;
           font-size: 28px;
       }

       .restaurant-content {
           flex: 1;
           display: flex;
           flex-direction: column;
       }

       .restaurant-category {
           font-size: 14px;
           color: #666;
           margin-bottom: 4px;
       }

       .restaurant-name {
           font-size: 16px;
           font-weight: bold;
           margin-bottom: 6px;
       }

       .restaurant-discount {
           font-size: 14px;
           color: #333;
           margin-bottom: 6px;
           display: flex;
           align-items: center;
       }

       .restaurant-discount .discount-icon {
           margin-right: 4px;
           color: #c62917;
       }

       .restaurant-location {
           font-size: 14px;
           color: #666;
           margin-bottom: 8px;
           display: flex;
           align-items: center;
       }

       .restaurant-likes {
           margin-left: auto;
           margin-top: auto;
           display: flex;
           align-items: center;
           color: #c62917;
           font-weight: bold;
       }

       .detail-button {
           background-color: #c62917;
           color: white;
           border: none;
           border-radius: 4px;
           padding: 8px 12px;
           font-size: 14px;
           font-weight: 500;
           cursor: pointer;
           margin-top: 8px;
           width: fit-content;
       }

       .deals-list {
           display: flex;
           flex-direction: column;
           gap: 12px;
       }

       .deal-item {
           display: flex;
           padding: 12px;
           border: 1px solid #eee;
           border-radius: 8px;
           background-color: #f9f9f9;
           cursor: pointer;
           transition: all 0.2s ease;
       }

       .deal-item:hover {
           transform: translateY(-2px);
           box-shadow: 0 4px 8px rgba(0,0,0,0.1);
       }

       .deal-image {
           width: 80px;
           height: 80px;
           border-radius: 8px;
           overflow: hidden;
           margin-right: 12px;
           background-color: #f0f0f0;
       }

       .deal-image img {
           width: 100%;
           height: 100%;
           object-fit: cover;
       }

       .deal-content {
           flex: 1;
       }

       .deal-category {
           font-size: 12px;
           color: #c62917;
           margin-bottom: 4px;
       }

       .deal-title {
           font-size: 15px;
           font-weight: bold;
           margin-bottom: 6px;
       }

       .deal-discount {
           font-size: 13px;
           color: #333;
           margin-bottom: 6px;
       }

       .deal-meta {
           display: flex;
           justify-content: space-between;
           align-items: center;
       }

       .deal-location {
           font-size: 12px;
           color: #666;
       }

       .deal-likes {
           font-size: 12px;
           color: #c62917;
           font-weight: bold;
       }

       .deal-likes-icon {
           margin-right: 4px;
       }

       .view-deal-button {
           background-color: #c62917;
           color: white;
           padding: 6px 12px;
           border-radius: 4px;
           font-size: 12px;
           border: none;
           cursor: pointer;
           transition: background-color 0.2s;
           margin-top: 8px;
       }

       .view-deal-button:hover {
           background-color: #a52312;
       }

       .skeleton {
           background: linear-gradient(90deg, #f0f0f0 25%, #f8f8f8 50%, #f0f0f0 75%);
           background-size: 200% 100%;
           animation: loading 1.5s infinite;
           border-radius: 4px;
       }

       .restaurant-image.skeleton {
           width: 92px;
           height: 92px;
           border-radius: 8px;
       }

       .restaurant-category.skeleton {
           width: 60px;
           height: 14px;
           margin-bottom: 8px;
       }

       .restaurant-name.skeleton {
           width: 100%;
           height: 18px;
           margin-bottom: 10px;
       }

       .restaurant-location.skeleton, .restaurant-discount.skeleton {
           width: 80%;
           height: 14px;
           margin-bottom: 8px;
       }

       @keyframes loading {
           0% { background-position: 200% 0; }
           100% { background-position: -200% 0; }
       }
   </style>

   <script>
       // 현재 표시 모드 ('mobile' 또는 'browser')
       let currentView = 'browser';

       // 버전 전환 함수
       function toggleVersion() {
           const mobileView = document.getElementById('mobile-view');
           const browserView = document.getElementById('browser-view');
           const versionText = document.querySelector('.version-text');

           if (currentView === 'browser') {
               // 모바일 버전으로 전환
               browserView.style.display = 'none';
               mobileView.style.display = 'block';
               versionText.textContent = 'PC 버전';
               currentView = 'mobile';
           } else {
               // PC 버전으로 전환
               mobileView.style.display = 'none';
               browserView.style.display = 'block';
               versionText.textContent = '모바일 버전';
               currentView = 'browser';
           }
           
           console.log('버전 전환:', currentView);
       }

       // 브라우저 탭 전환 함수
       function showBrowserTab(tabName) {
           // 모든 브라우저 탭 숨기기
           document.querySelectorAll('.browser-tab-content').forEach(tab => {
               tab.classList.remove('active');
           });
           
           // 선택한 탭 보이기
           document.getElementById(`browser-${tabName}-tab`).classList.add('active');
           
           // 네비게이션 메뉴 활성화 상태 변경
           document.querySelectorAll('.nav-item').forEach(item => {
               item.classList.remove('active');
           });
           
           // 클릭된 네비게이션 아이템 활성화
           event.target.classList.add('active');
           
           console.log('브라우저 탭 전환:', tabName);
       }

       // 모바일 탭 전환 함수 (기존 함수 유지)
       function switchTab(tabName) {
           if (currentView === 'browser') {
               showBrowserTab(tabName);
               return;
           }
           
           // 모든 탭 콘텐츠 숨기기
           document.querySelectorAll('.tab-content').forEach(tab => {
               tab.classList.remove('active');
           });
           // 선택한 탭 콘텐츠 표시
           document.getElementById(`${tabName}-tab`).classList.add('active');

           // 탭 메뉴 활성화 상태 변경
           document.querySelectorAll('.tab-item').forEach(item => {
               item.classList.remove('active');
           });
           const tabItems = document.querySelectorAll('.tab-item');
           for (let i = 0; i < tabItems.length; i++) {
               if (tabItems[i].onclick.toString().includes(`'${tabName}'`)) {
                   tabItems[i].classList.add('active');
                   break;
               }
           }

           // 시설 탭으로 전환 시에만 맵 초기화
           if (tabName === 'facility') {
               // 페이지네이션 초기화
               currentPage = 1;
               loadBuildingsByPage(currentPage);
               updatePaginationControls();

               // 맵을 보이게 한 다음에 초기화
               initNaverMapWithFix();
           }

           // 프로필 탭 전환 시
           if (tabName === 'profile') {
               setTimeout(() => {
                   checkLoginStatus();
                   updateAllProfileImages();
               }, 100);
           }

           // 홈 탭으로 전환 시 시간표 미리보기 업데이트
           if (tabName === 'home') {
               setTimeout(() => {
                   updateTimetablePreview();
               }, 200);
           }
       }

       // 초기화 시 화면 크기에 따라 기본 뷰 설정
       function initializeView() {
           const isMobile = window.innerWidth <= 768;
           const versionText = document.querySelector('.version-text');
           
           if (isMobile) {
               // 모바일 화면에서는 모바일 뷰를 기본으로
               currentView = 'mobile';
               document.getElementById('browser-view').style.display = 'none';
               document.getElementById('mobile-view').style.display = 'block';
               versionText.textContent = 'PC 버전';
           } else {
               // PC 화면에서는 브라우저 뷰를 기본으로
               currentView = 'browser';
               document.getElementById('mobile-view').style.display = 'none';
               document.getElementById('browser-view').style.display = 'block';
               versionText.textContent = '모바일 버전';
           }
       }

       // 페이지 로드 시 초기화
       document.addEventListener('DOMContentLoaded', function() {
           initializeView();
           
           // 기존 초기화 함수들 호출
           if (typeof updateShuttleBusInfo === 'function') {
               updateShuttleBusInfo();
           }
           if (typeof updateTimetablePreview === 'function') {
               updateTimetablePreview();
           }
           if (typeof checkLoginStatus === 'function') {
               checkLoginStatus();
           }
       });

       // 창 크기 변경 시 반응형 처리
       window.addEventListener('resize', function() {
           // 필요시 반응형 로직 추가
       });
   </script>
</body>
</html>