<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지사항 - 연성대학교</title>
    <link rel="stylesheet" href="notices.css">
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <header class="header">
            <button class="back-btn" onclick="goBack()">
                <span>←</span>
            </button>
            <h1 class="header-title">공지사항</h1>
            <div class="header-spacer"></div>
        </header>

        <!-- 권한별 관리 메뉴 -->
        <div class="admin-controls" id="adminControls">
            <div class="admin-info">
                <div>
                    <span class="user-role" id="userRole">학생</span>
                    <span id="userDepartment" style="font-size: 14px; color: #666; margin-left: 8px;"></span>
                </div>
                <div class="admin-buttons">
                    <button class="admin-btn write-btn" onclick="goToWritePage()">
                        <span>✏️</span> 공지 작성
                    </button>
                    <button class="admin-btn manage-btn" onclick="goToManagePage()">
                        <span>📋</span> 내 공지 관리
                    </button>
                </div>
            </div>
        </div>

        <!-- 권한 확인 알림 -->
        <div class="permission-notice" id="permissionNotice">
            교수 및 교직원만 공지사항을 작성할 수 있습니다. 권한이 필요한 경우 관리자에게 문의해주세요.
        </div>

        <!-- 검색 영역 -->
        <div class="search-section">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="제목, 내용으로 검색..." class="search-input">
                <button class="search-btn" onclick="performSearch()">
                    <span>🔍</span>
                </button>
            </div>
        </div>

        <!-- 카테고리 필터 -->
        <div class="category-section">
            <div class="category-tabs">
                <button class="category-tab active" data-category="all" onclick="filterByCategory('all')">전체</button>
                <button class="category-tab" data-category="academic" onclick="filterByCategory('academic')">학사</button>
                <button class="category-tab" data-category="scholarship" onclick="filterByCategory('scholarship')">장학</button>
                <button class="category-tab" data-category="job" onclick="filterByCategory('job')">취업</button>
                <button class="category-tab" data-category="event" onclick="filterByCategory('event')">행사</button>
                <button class="category-tab" data-category="department" onclick="filterByCategory('department')">학과</button>
            </div>
        </div>

        <!-- 공지사항 목록 -->
        <div class="notices-section">
            <div class="notices-header">
                <span class="notices-count" id="noticesCount">전체 0건</span>
                <select class="sort-select" id="sortSelect" onchange="sortNotices()">
                    <option value="latest">최신순</option>
                    <option value="oldest">오래된순</option>
                    <option value="views">조회수순</option>
                </select>
            </div>
            
            <div class="notices-list" id="noticesList">
                <div class="loading-message">
                    <div class="loading-spinner"></div>
                    <p>공지사항을 불러오는 중...</p>
                </div>
            </div>

            <!-- 페이지네이션 -->
            <div class="pagination" id="pagination">
                <!-- 동적으로 생성 -->
            </div>
        </div>
    </div>


    <script src="notices.js"></script>
</body>
</html>