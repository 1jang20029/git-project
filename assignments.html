<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>과제 & 시험 - 연성대학교</title>
    <link rel="stylesheet" href="assignments.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="back-button" onclick="goBack()">←</div>
            <div class="header-title">과제 & 시험</div>
            <div class="header-right">
                <div class="filter-button" onclick="toggleFilterOptions()">
                    <span>필터</span>
                    <span class="filter-icon">⚙️</span>
                </div>
            </div>
        </header>
        
        <!-- 필터 옵션 영역 -->
        <div class="filter-options" id="filterOptions">
            <div class="filter-section">
                <div class="filter-title">정렬 기준</div>
                <div class="filter-choices">
                    <div class="filter-option active" data-sort="deadline">마감일 순</div>
                    <div class="filter-option" data-sort="subject">과목 순</div>
                </div>
            </div>
            
            <div class="filter-section">
                <div class="filter-title">유형</div>
                <div class="filter-choices">
                    <div class="filter-option active" data-type="all">전체</div>
                    <div class="filter-option" data-type="assignment">과제</div>
                    <div class="filter-option" data-type="exam">시험</div>
                </div>
            </div>
            
            <div class="filter-actions">
                <button class="reset-filter" onclick="resetFilter()">초기화</button>
                <button class="apply-filter" onclick="applyFilter()">적용</button>
            </div>
        </div>
        
        <!-- 상태 표시 영역 -->
        <div class="status-overview">
            <div class="status-item urgent">
                <div class="status-count">1</div>
                <div class="status-label">급함</div>
            </div>
            <div class="status-item upcoming">
                <div class="status-count">2</div>
                <div class="status-label">예정</div>
            </div>
            <div class="status-item completed">
                <div class="status-count">0</div>
                <div class="status-label">완료</div>
            </div>
        </div>
        
        <!-- 과제/시험 목록 -->
        <div class="assignments-list" id="assignmentsList">
            <!-- 급한 과제 -->
            <div class="assignment-item urgent" data-type="assignment" data-subject="웹 프로그래밍 실습">
                <div class="assignment-left">
                    <div class="assignment-type">과제</div>
                </div>
                <div class="assignment-content">
                    <div class="assignment-subject">웹 프로그래밍 실습</div>
                    <div class="assignment-title">개인 포트폴리오 웹사이트 제작</div>
                    <div class="assignment-due">마감: 4월 12일 오후 11:59</div>
                    <div class="assignment-details" style="display: none;">
                        HTML, CSS, JavaScript를 활용하여 개인 포트폴리오 웹사이트를 제작하세요. 
                        자신의 프로필, 기술 스택, 프로젝트 경험을 포함해야 합니다.
                    </div>
                </div>
                <div class="assignment-right">
                    <div class="assignment-status urgent">급함</div>
                    <div class="assignment-actions">
                        <button class="edit-btn" onclick="editItem(this)">수정</button>
                        <button class="delete-btn" onclick="deleteItem(this)">삭제</button>
                        <button class="view-details-btn" onclick="toggleDetails(this)">상세</button>
                    </div>
                </div>
            </div>
            
            <!-- 예정된 과제 -->
            <div class="assignment-item normal" data-type="assignment" data-subject="영상콘텐츠제작">
                <div class="assignment-left">
                    <div class="assignment-type">과제</div>
                </div>
                <div class="assignment-content">
                    <div class="assignment-subject">영상콘텐츠제작</div>
                    <div class="assignment-title">3분 브이로그 제작</div>
                    <div class="assignment-due">마감: 4월 18일 오후 6:00</div>
                    <div class="assignment-details" style="display: none;">
                        자신의 일상을 담은 3분 분량의 브이로그를 제작하세요. 
                        편집 기술과 스토리텔링 능력을 평가합니다.
                    </div>
                </div>
                <div class="assignment-right">
                    <div class="assignment-status normal">10일 후</div>
                    <div class="assignment-actions">
                        <button class="edit-btn" onclick="editItem(this)">수정</button>
                        <button class="delete-btn" onclick="deleteItem(this)">삭제</button>
                        <button class="view-details-btn" onclick="toggleDetails(this)">상세</button>
                    </div>
                </div>
            </div>
            
            <!-- 시험 -->
            <div class="assignment-item normal" data-type="exam" data-subject="마케팅 원론">
                <div class="assignment-left">
                    <div class="assignment-type">시험</div>
                </div>
                <div class="assignment-content">
                    <div class="assignment-subject">마케팅 원론</div>
                    <div class="assignment-title">중간고사</div>
                    <div class="assignment-due">4월 24일 오후 2:00</div>
                    <div class="assignment-details" style="display: none;">
                        일시: 4월 24일 오후 2:00<br>
                        장소: 중앙 강의동 303호<br>
                        범위: 중간고사 - 1~5장<br>
                        참고사항: 계산기 사용 가능
                    </div>
                </div>
                <div class="assignment-right">
                    <div class="assignment-status normal">8일 후</div>
                    <div class="assignment-actions">
                        <button class="edit-btn" onclick="editItem(this)">수정</button>
                        <button class="delete-btn" onclick="deleteItem(this)">삭제</button>
                        <button class="view-details-btn" onclick="toggleDetails(this)">상세</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 과제 추가 버튼 -->
        <div class="add-button" onclick="showAddForm()">+</div>
        
        <!-- 과제 추가 폼 (기본적으로 숨겨져 있음) -->
        <div class="add-form-overlay" id="addFormOverlay">
            <div class="add-form">
                <div class="form-header">
                    <h2>새 항목 추가</h2>
                    <div class="close-btn" onclick="hideAddForm()">×</div>
                </div>
                
                <div class="form-group">
                    <label>유형</label>
                    <div class="type-selector">
                        <div class="type-option active" data-type="assignment" onclick="selectType(this)">과제</div>
                        <div class="type-option" data-type="exam" onclick="selectType(this)">시험</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>과목</label>
                    <input type="text" id="subjectInput" placeholder="과목명을 입력하세요">
                </div>
                
                <div class="form-group">
                    <label>제목</label>
                    <input type="text" id="titleInput" placeholder="제목을 입력하세요">
                </div>
                
                <div class="form-group">
                    <label>마감일</label>
                    <input type="date" id="dateInput">
                </div>
                
                <div class="form-group">
                    <label>시간</label>
                    <input type="time" id="timeInput">
                </div>
                
                <div class="form-group">
                    <label>상세 내용</label>
                    <textarea id="detailsInput" placeholder="상세 내용을 입력하세요" rows="4"></textarea>
                </div>
                
                <div class="form-group form-actions">
                    <button class="cancel-btn" onclick="hideAddForm()">취소</button>
                    <button class="save-btn" onclick="saveNewItem()">저장</button>
                </div>
            </div>
        </div>
        
        <!-- 편집 폼 (기본적으로 숨겨져 있음) -->
        <div class="add-form-overlay" id="editFormOverlay">
            <div class="add-form">
                <div class="form-header">
                    <h2>항목 수정</h2>
                    <div class="close-btn" onclick="hideEditForm()">×</div>
                </div>
                
                <div class="form-group">
                    <label>유형</label>
                    <div class="type-selector">
                        <div class="type-option active" data-type="assignment" onclick="selectEditType(this)">과제</div>
                        <div class="type-option" data-type="exam" onclick="selectEditType(this)">시험</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>과목</label>
                    <input type="text" id="editSubjectInput" placeholder="과목명을 입력하세요">
                </div>
                
                <div class="form-group">
                    <label>제목</label>
                    <input type="text" id="editTitleInput" placeholder="제목을 입력하세요">
                </div>
                
                <div class="form-group">
                    <label>마감일</label>
                    <input type="date" id="editDateInput">
                </div>
                
                <div class="form-group">
                    <label>시간</label>
                    <input type="time" id="editTimeInput">
                </div>
                
                <div class="form-group">
                    <label>상세 내용</label>
                    <textarea id="editDetailsInput" placeholder="상세 내용을 입력하세요" rows="4"></textarea>
                </div>
                
                <input type="hidden" id="editItemIndex">
                
                <div class="form-group form-actions">
                    <button class="cancel-btn" onclick="hideEditForm()">취소</button>
                    <button class="save-btn" onclick="updateItem()">저장</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="assignments.js"></script>
</body>
</html>