<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지사항 상세 - 연성대학교</title>
    <link rel="stylesheet" href="notice-detail.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="back-button" onclick="goBack()">←</div>
            <div class="header-title">공지사항</div>
            <div class="header-icons">
                <div class="share-icon" onclick="shareNotice()">📤</div>
                <div class="bookmark-icon" onclick="toggleBookmark()" id="bookmarkIcon">🔖</div>
            </div>
        </header>

        <!-- 로딩 상태 -->
        <div class="loading-container" id="loadingContainer">
            <div class="spinner"></div>
            <p>공지사항을 불러오는 중...</p>
        </div>

        <!-- 오류 상태 -->
        <div class="error-container" id="errorContainer" style="display: none;">
            <div class="error-icon">❌</div>
            <h3>공지사항을 찾을 수 없습니다</h3>
            <p>요청하신 공지사항이 삭제되었거나 존재하지 않습니다.</p>
            <button class="btn-primary" onclick="goBack()">목록으로 돌아가기</button>
        </div>

        <!-- 공지사항 내용 -->
        <div class="notice-content" id="noticeContent" style="display: none;">
            <!-- 공지사항 헤더 -->
            <div class="notice-header">
                <div class="notice-badges" id="noticeBadges">
                    <!-- 배지들이 동적으로 추가됩니다 -->
                </div>
                
                <h1 class="notice-title" id="noticeTitle"></h1>
                
                <div class="notice-meta">
                    <div class="meta-row">
                        <span class="meta-label">작성자</span>
                        <span class="meta-value" id="noticeAuthor"></span>
                    </div>
                    <div class="meta-row">
                        <span class="meta-label">작성일</span>
                        <span class="meta-value" id="noticeDate"></span>
                    </div>
                    <div class="meta-row">
                        <span class="meta-label">카테고리</span>
                        <span class="meta-value" id="noticeCategory"></span>
                    </div>
                    <div class="meta-row">
                        <span class="meta-label">조회수</span>
                        <span class="meta-value" id="noticeViews"></span>
                    </div>
                </div>
            </div>

            <!-- 관리자 액션 버튼 (관리자만 표시) -->
            <div class="admin-actions" id="adminActions" style="display: none;">
                <button class="btn-edit" onclick="editCurrentNotice()">수정</button>
                <button class="btn-delete" onclick="deleteCurrentNotice()">삭제</button>
            </div>

            <!-- 공지사항 본문 -->
            <div class="notice-body" id="noticeBody">
                <!-- 본문 내용이 동적으로 추가됩니다 -->
            </div>

            <!-- 첨부파일 -->
            <div class="attachments-section" id="attachmentsSection" style="display: none;">
                <h3>첨부파일</h3>
                <div class="attachments-list" id="attachmentsList">
                    <!-- 첨부파일 목록이 동적으로 추가됩니다 -->
                </div>
            </div>

            <!-- 공지사항 액션 -->
            <div class="notice-actions">
                <button class="btn-secondary" onclick="printNotice()">🖨️ 인쇄</button>
                <button class="btn-secondary" onclick="reportNotice()">🚨 신고</button>
                <button class="btn-primary" onclick="goToNoticeList()">목록으로</button>
            </div>

            <!-- 관련 공지사항 -->
            <div class="related-notices" id="relatedNotices">
                <h3>관련 공지사항</h3>
                <div class="related-list" id="relatedList">
                    <!-- 관련 공지사항이 동적으로 추가됩니다 -->
                </div>
            </div>

            <!-- 이전/다음 공지사항 네비게이션 -->
            <div class="notice-navigation">
                <div class="nav-item prev-notice" id="prevNotice" style="display: none;">
                    <div class="nav-label">이전 글</div>
                    <div class="nav-title" onclick="goToPrevNotice()"></div>
                </div>
                <div class="nav-item next-notice" id="nextNotice" style="display: none;">
                    <div class="nav-label">다음 글</div>
                    <div class="nav-title" onclick="goToNextNotice()"></div>
                </div>
            </div>

            <!-- 댓글 섹션 (향후 확장용) -->
            <div class="comments-section" id="commentsSection" style="display: none;">
                <h3>댓글</h3>
                <div class="comment-form">
                    <textarea placeholder="댓글을 입력하세요..." rows="3"></textarea>
                    <button class="btn-primary">댓글 작성</button>
                </div>
                <div class="comments-list">
                    <!-- 댓글 목록 -->
                </div>
            </div>
        </div>

        <!-- 플로팅 액션 버튼 -->
        <div class="floating-actions">
            <button class="fab" onclick="scrollToTop()" id="scrollToTopBtn" style="display: none;">↑</button>
        </div>
    </div>

    <!-- 공유 모달 -->
    <div class="modal" id="shareModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>공지사항 공유</h3>
                <span class="close" onclick="closeShareModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="share-options">
                    <div class="share-option" onclick="copyToClipboard()">
                        <div class="share-icon">📋</div>
                        <div class="share-text">링크 복사</div>
                    </div>
                    <div class="share-option" onclick="shareToKakao()">
                        <div class="share-icon">💬</div>
                        <div class="share-text">카카오톡</div>
                    </div>
                    <div class="share-option" onclick="shareToEmail()">
                        <div class="share-icon">📧</div>
                        <div class="share-text">이메일</div>
                    </div>
                </div>
                <div class="share-url">
                    <input type="text" id="shareUrl" readonly>
                    <button onclick="copyToClipboard()">복사</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 신고 모달 -->
    <div class="modal" id="reportModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>공지사항 신고</h3>
                <span class="close" onclick="closeReportModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="report-form">
                    <div class="form-group">
                        <label>신고 사유</label>
                        <select id="reportReason">
                            <option value="">신고 사유를 선택하세요</option>
                            <option value="spam">스팸/광고</option>
                            <option value="inappropriate">부적절한 내용</option>
                            <option value="false">허위 정보</option>
                            <option value="copyright">저작권 침해</option>
                            <option value="other">기타</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>상세 내용</label>
                        <textarea id="reportDetail" rows="4" placeholder="신고 사유를 자세히 설명해주세요..."></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeReportModal()">취소</button>
                <button class="btn-primary" onclick="submitReport()">신고하기</button>
            </div>
        </div>
    </div>

    <script src="notice-detail.js"></script>
</body>
</html>