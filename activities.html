<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>교내/대외활동 - 연성대학교</title>
    <link rel="stylesheet" href="activities.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="back-button" onclick="goBack()">←</div>
            <div class="header-title">교내/대외활동</div>
            <div class="header-actions">
                <button class="header-btn register-button" onclick="openRegistrationForm()">등록</button>
                <button class="header-btn header-search" onclick="toggleSearch()">검색</button>
            </div>
        </header>

        <!-- 검색바 (토글) -->
        <div class="search-section" id="searchSection">
            <div class="search-bar">
                <input type="text" id="activitySearch" placeholder="활동명, 키워드 검색" oninput="searchActivities()">
                <button class="search-clear" onclick="clearActivitySearch()">✕</button>
            </div>
        </div>

        <!-- 통계 현황 -->
        <div class="stats-overview">
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number">12</div>
                    <div class="stat-label">진행 중인 공모전</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">8</div>
                    <div class="stat-label">신입 모집 동아리</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">15</div>
                    <div class="stat-label">대외활동 기회</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">6</div>
                    <div class="stat-label">봉사활동</div>
                </div>
            </div>
        </div>

        <!-- 카테고리 탭 -->
        <div class="category-tabs">
            <button class="tab-button active" data-category="all" onclick="filterByCategory('all')">전체</button>
            <button class="tab-button" data-category="contest" onclick="filterByCategory('contest')">공모전</button>
            <button class="tab-button" data-category="club" onclick="filterByCategory('club')">동아리</button>
            <button class="tab-button" data-category="external" onclick="filterByCategory('external')">대외활동</button>
            <button class="tab-button" data-category="volunteer" onclick="filterByCategory('volunteer')">봉사활동</button>
        </div>

        <!-- 활동 목록 -->
        <div class="activities-container">
            <!-- 여기에는 사용자가 등록한 활동들이 표시됩니다 -->
            <div class="no-activities-message">
                <p>현재 등록된 활동이 없습니다. 상단의 '등록' 버튼을 클릭하여 새 활동을 등록해보세요!</p>
            </div>
        </div>

        <!-- 더보기 버튼 대신 페이지네이션 -->
        <div class="pagination-container" id="paginationContainer" style="display: none;">
            <div class="pagination">
                <button class="page-btn prev-btn" onclick="goToPage('prev')">이전</button>
                <button class="page-btn" data-page="1" onclick="goToPage(1)">1</button>
                <button class="page-btn" data-page="2" onclick="goToPage(2)">2</button>
                <button class="page-btn" data-page="3" onclick="goToPage(3)">3</button>
                <button class="page-btn next-btn" onclick="goToPage('next')">다음</button>
            </div>
        </div>

        <!-- 활동 등록 모달 -->
        <div id="registrationModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>새 활동 등록</h2>
                    <span class="close-modal" onclick="closeRegistrationForm()">&times;</span>
                </div>
                <form id="activityRegistrationForm">
                    <div class="form-group">
                        <label for="activityType">활동 유형*</label>
                        <select id="activityType" name="activityType" required>
                            <option value="">활동 유형 선택</option>
                            <option value="contest">공모전</option>
                            <option value="club">동아리</option>
                            <option value="external">대외활동</option>
                            <option value="volunteer">봉사활동</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="activityTitle">활동명*</label>
                        <input type="text" id="activityTitle" name="activityTitle" placeholder="활동 제목 입력" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="activityDescription">활동 설명*</label>
                        <textarea id="activityDescription" name="activityDescription" placeholder="활동에 대한 설명을 입력하세요" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="activityDeadline">마감일자</label>
                        <input type="date" id="activityDeadline" name="activityDeadline">
                    </div>
                    
                    <div class="form-group">
                        <label>활동 세부정보 (최대 3개)</label>
                        <div class="detail-inputs">
                            <input type="text" placeholder="예: 상금 500만원" name="detailItem1">
                            <input type="text" placeholder="예: 매주 금요일 활동" name="detailItem2">
                            <input type="text" placeholder="예: 활동비 지급" name="detailItem3">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>태그 (쉼표로 구분)</label>
                        <input type="text" id="activityTags" name="activityTags" placeholder="예: 창업,아이디어,혁신">
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn-cancel" onclick="closeRegistrationForm()">취소</button>
                        <button type="submit" class="btn-submit">등록하기</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- 수정 모달 -->
        <div id="editModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>활동 수정</h2>
                    <span class="close-modal" onclick="closeEditForm()">&times;</span>
                </div>
                <form id="activityEditForm">
                    <input type="hidden" id="editActivityId" name="editActivityId">
                    <div class="form-group">
                        <label for="editActivityType">활동 유형*</label>
                        <select id="editActivityType" name="editActivityType" required>
                            <option value="">활동 유형 선택</option>
                            <option value="contest">공모전</option>
                            <option value="club">동아리</option>
                            <option value="external">대외활동</option>
                            <option value="volunteer">봉사활동</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editActivityTitle">활동명*</label>
                        <input type="text" id="editActivityTitle" name="editActivityTitle" placeholder="활동 제목 입력" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editActivityDescription">활동 설명*</label>
                        <textarea id="editActivityDescription" name="editActivityDescription" placeholder="활동에 대한 설명을 입력하세요" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="editActivityDeadline">마감일자</label>
                        <input type="date" id="editActivityDeadline" name="editActivityDeadline">
                    </div>
                    
                    <div class="form-group">
                        <label>활동 세부정보 (최대 3개)</label>
                        <div class="detail-inputs">
                            <input type="text" placeholder="예: 상금 500만원" id="editDetailItem1" name="editDetailItem1">
                            <input type="text" placeholder="예: 매주 금요일 활동" id="editDetailItem2" name="editDetailItem2">
                            <input type="text" placeholder="예: 활동비 지급" id="editDetailItem3" name="editDetailItem3">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>태그 (쉼표로 구분)</label>
                        <input type="text" id="editActivityTags" name="editActivityTags" placeholder="예: 창업,아이디어,혁신">
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn-cancel" onclick="closeEditForm()">취소</button>
                        <button type="submit" class="btn-submit">수정하기</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- 상세 보기 모달 -->
        <div id="detailModal" class="modal">
            <div class="modal-content detail-modal-content">
                <div class="modal-header">
                    <h2>활동 상세 정보</h2>
                    <span class="close-modal" onclick="closeDetailModal()">&times;</span>
                </div>
                <div id="activityDetailContent" class="detail-content">
                    <!-- 상세 내용이 여기에 동적으로 추가됩니다 -->
                </div>
                <div class="modal-actions">
                    <button class="btn-cancel" onclick="closeDetailModal()">닫기</button>
                    <button class="btn-apply detail-apply-btn" onclick="applyActivityFromDetail()">신청하기</button>
                </div>
            </div>
        </div>
        
        <!-- 신청 관리 모달 -->
        <div id="applicationsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>내 신청 현황</h2>
                    <span class="close-modal" onclick="closeApplicationsModal()">&times;</span>
                </div>
                <div class="applications-container">
                    <div id="noApplicationsMessage" class="no-data-message">
                        <p>현재 신청한 활동이 없습니다.</p>
                    </div>
                    <div id="applicationsList">
                        <!-- 신청 목록이 여기에 동적으로 추가됩니다 -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 달력 선택 모달 -->
        <div id="calendarModal" class="modal">
            <div class="modal-content calendar-modal-content">
                <div class="modal-header">
                    <h2>날짜 선택</h2>
                    <span class="close-modal" onclick="closeCalendarModal()">&times;</span>
                </div>
                <div class="calendar-container">
                    <div class="calendar-header">
                        <button class="calendar-nav-btn" onclick="prevMonth()">&lt;</button>
                        <div id="currentMonthYear">2025년 5월</div>
                        <button class="calendar-nav-btn" onclick="nextMonth()">&gt;</button>
                    </div>
                    <div class="calendar-weekdays">
                        <div>일</div>
                        <div>월</div>
                        <div>화</div>
                        <div>수</div>
                        <div>목</div>
                        <div>금</div>
                        <div>토</div>
                    </div>
                    <div id="calendarDays" class="calendar-days">
                        <!-- 날짜가 여기에 동적으로 추가됩니다 -->
                    </div>
                    <div class="calendar-instructions">
                        <p>스크롤하여 월 단위로 이동할 수 있습니다</p>
                    </div>
                    <div class="calendar-actions">
                        <button class="btn-cancel" onclick="clearSelectedDate()">삭제</button>
                        <button class="btn-submit" onclick="applySelectedDate()">확인</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="activities.js"></script>
</body>
</html>